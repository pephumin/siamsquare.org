var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var SurveyObjectEditorTests;
(function (SurveyObjectEditorTests) {
    var Tests;
    (function (Tests) {
        var Car = (function () {
            function Car() {
            }
            Car.prototype.getType = function () { return "car"; };
            return Car;
        }());
        Tests.Car = Car;
        var FastCar = (function (_super) {
            __extends(FastCar, _super);
            function FastCar() {
                _super.apply(this, arguments);
            }
            FastCar.prototype.getType = function () { return "fast"; };
            return FastCar;
        }(Car));
        Tests.FastCar = FastCar;
        var BigCar = (function (_super) {
            __extends(BigCar, _super);
            function BigCar() {
                _super.apply(this, arguments);
            }
            BigCar.prototype.getType = function () { return "big"; };
            return BigCar;
        }(Car));
        Tests.BigCar = BigCar;
        var SportCar = (function (_super) {
            __extends(SportCar, _super);
            function SportCar() {
                _super.apply(this, arguments);
            }
            SportCar.prototype.getType = function () { return "sport"; };
            return SportCar;
        }(FastCar));
        Tests.SportCar = SportCar;
        var Truck = (function (_super) {
            __extends(Truck, _super);
            function Truck() {
                _super.apply(this, arguments);
            }
            Truck.prototype.getType = function () { return "truck"; };
            return Truck;
        }(BigCar));
        Tests.Truck = Truck;
        var TruckDefaultValue = (function (_super) {
            __extends(TruckDefaultValue, _super);
            function TruckDefaultValue() {
                _super.apply(this, arguments);
            }
            TruckDefaultValue.prototype.getType = function () { return "truckDefault"; };
            Object.defineProperty(TruckDefaultValue.prototype, "title", {
                get: function () {
                    return "!" + this.titleValue + "!";
                },
                set: function (value) {
                    this.titleValue = value;
                },
                enumerable: true,
                configurable: true
            });
            return TruckDefaultValue;
        }(Truck));
        Tests.TruckDefaultValue = TruckDefaultValue;
        Survey.JsonObject.metaData.addClass("fast", [], function () { return new FastCar(); }, "car");
        Survey.JsonObject.metaData.addClass("big", [], null, "car");
        Survey.JsonObject.metaData.addClass("car", ["name"]);
        Survey.JsonObject.metaData.addClass("truck", ["maxWeight:number"], function () { return new Truck(); }, "big");
        Survey.JsonObject.metaData.addClass("sport", ["!maxSpeed:number"], function () { return new SportCar(); }, "fast");
        Survey.JsonObject.metaData.addClass("truckDefault", ["isNew:boolean", "title:string"], function () { return new TruckDefaultValue(); }, "truck");
        //TODO add onGetValue into the line above.
        var properties = Survey.JsonObject.metaData.getProperties("truckDefault");
        for (var i = 0; i < properties.length; i++) {
            if (properties[i].name == "title") {
                properties[i].onGetValue = function (obj) { return obj.titleValue; };
                break;
            }
        }
    })(Tests = SurveyObjectEditorTests.Tests || (SurveyObjectEditorTests.Tests = {}));
})(SurveyObjectEditorTests || (SurveyObjectEditorTests = {}));

/// <reference path="../src/objectEditor.ts" />
/// <reference path="ObjectEditorTestedClasses.ts" />
var SurveyObjectEditorTests;
(function (SurveyObjectEditorTests) {
    var Tests;
    (function (Tests) {
        QUnit.module("objectEditorTests");
        QUnit.test("Created properties on set selected Object", function (assert) {
            var editor = new SurveyEditor.SurveyObjectEditor();
            assert.equal(editor.koProperties().length, 0, "No properties for null object");
            editor.selectedObject = new Tests.BigCar();
            assert.equal(editor.koProperties().length, 1, "One property object");
            assert.equal(editor.koProperties()[0].name, "name", "name property");
            assert.equal(editor.koProperties()[0].editorType, "string", "It is a text editor");
            editor.selectedObject = new Tests.Truck();
            assert.equal(editor.koProperties().length, 2, "Two property object");
            assert.equal(editor.koProperties()[0].name, "maxWeight", "maxWeight property");
            assert.equal(editor.koProperties()[1].name, "name", "name property");
        });
        QUnit.test("Get Property Value", function (assert) {
            var editor = new SurveyEditor.SurveyObjectEditor();
            var car = new Tests.Truck();
            car.name = "truckCar";
            car.maxWeight = 20000;
            editor.selectedObject = car;
            assert.equal(editor.koProperties()[1].koValue(), "truckCar", "get name property");
            assert.equal(editor.koProperties()[0].koValue(), 20000, "get maxWeight property");
        });
        QUnit.test("isDefault property value", function (assert) {
            var editor = new SurveyEditor.SurveyObjectEditor();
            var car = new Tests.TruckDefaultValue();
            editor.selectedObject = car;
            var property = editor.getPropertyEditor("isNew");
            assert.equal(property.koIsDefault(), true, "the value is default");
            assert.equal(property.editorType, "boolean", "It is a boolean editor");
            car.isNew = true;
            editor.ObjectChanged();
            assert.equal(property.koIsDefault(), false, "the value is not default");
        });
        QUnit.test("Active property", function (assert) {
            var editor = new SurveyEditor.SurveyObjectEditor();
            assert.equal(editor.koActiveProperty(), null, "no properties");
            editor.selectedObject = new Tests.TruckDefaultValue();
            assert.equal(editor.koActiveProperty().name, "name", "name property is active by default");
        });
        QUnit.test("On property changed", function (assert) {
            var editor = new SurveyEditor.SurveyObjectEditor();
            var car = new Tests.TruckDefaultValue();
            car.name = "myName";
            var callCounter = 0;
            editor.onPropertyValueChanged.add(function (sender, options) { car.name = options.newValue; callCounter++; });
            editor.selectedObject = car;
            editor.koActiveProperty().koValue("newName");
            assert.equal(car.name, "newName", "on property changed event is working");
            assert.equal(callCounter, 1, "It should be called only one time");
        });
        QUnit.test("Use metadata getPropertyValue function", function (assert) {
            var editor = new SurveyEditor.SurveyObjectEditor();
            var car = new Tests.TruckDefaultValue();
            car.title = "test";
            editor.selectedObject = car;
            var property = editor.getPropertyEditor("title");
            editor.koActiveProperty().koValue("newName");
            assert.equal(property.koText(), "test", "use the real value to get value");
        });
    })(Tests = SurveyObjectEditorTests.Tests || (SurveyObjectEditorTests.Tests = {}));
})(SurveyObjectEditorTests || (SurveyObjectEditorTests = {}));

/// <reference path="../src/editor.ts" />
var SurveyObjectEditorTests;
(function (SurveyObjectEditorTests) {
    var Tests;
    (function (Tests) {
        QUnit.module("surveyEditorTests");
        QUnit.test("Set Text property", function (assert) {
            var editor = new SurveyEditor.SurveyEditor();
            var json = {
                questions: [
                    {
                        type: "checkbox", name: "car", title: "What car are you driving?", isRequired: true,
                        colCount: 4, choices: ["None", "Ford", "Vauxhall", "Volkswagen", "Nissan", "Audi", "Mercedes-Benz", "BMW", "Peugeot", "Toyota", "Citroen"]
                    }
                ]
            };
            var jsonText = JSON.stringify(json);
            editor.text = jsonText;
            assert.equal(editor.koIsShowDesigner(), true);
            assert.equal(editor.survey.getAllQuestions().length, 1, "There is one question");
            assert.equal(editor.survey.getAllQuestions()[0].name, "car", "The question converted successufull");
            jsonText = jsonText.substr(5);
            editor.text = jsonText;
            assert.equal(editor.koIsShowDesigner(), false);
        });
        QUnit.test("Copy Question", function (assert) {
            var editor = new SurveyEditor.SurveyEditor();
            editor.text = JSON.stringify(getSurveyJson());
            assert.equal(editor.koCopiedQuestions().length, 0, "There is no copied question yet.");
            editor.copyQuestion(editor.survey.getAllQuestions()[0]);
            assert.equal(editor.koCopiedQuestions().length, 1, "There is one copied question now.");
            assert.equal(editor.koCopiedQuestions()[0].name, "question1", "The copied question is 'question1'");
            editor.copyQuestion(editor.survey.getAllQuestions()[0]);
            assert.equal(editor.koCopiedQuestions().length, 1, "There is still one copied question now.");
            assert.equal(editor.koCopiedQuestions()[0].name, "question1", "The copied question is 'question1'");
        });
        QUnit.test("options.questionTypes", function (assert) {
            var allTypes = Survey.QuestionFactory.Instance.getAllTypes();
            var editor = new SurveyEditor.SurveyEditor(null, null);
            assert.equal(editor.questionTypes.length, allTypes.length, "All types are accepted");
            editor = new SurveyEditor.SurveyEditor(null, { questionTypes: ["text", "dropdown", "unknown"] });
            assert.equal(editor.questionTypes.length, 2, "Only two types from three are accepted");
        });
        QUnit.test("Editor state property", function (assert) {
            var editor = new SurveyEditor.SurveyEditor();
            editor.saveSurveyFunc = function (no, doSaveCallback) {
                doSaveCallback(no, true);
            };
            editor.text = JSON.stringify(getSurveyJson());
            assert.equal(editor.state, "");
            editor.addPage();
            assert.equal(editor.state, "modified");
            editor.saveButtonClick();
            assert.equal(editor.state, "saved");
            /*
            editor.addPage();
            assert.equal(editor.state, "modified");
            editor.doUndoClick();
            assert.equal(editor.state, "saved");
            editor.doRedoClick();
            assert.equal(editor.state, "modified");
            */
        });
        QUnit.test("Do not reload surey on 'Designer' tab click", function (assert) {
            var editor = new SurveyEditor.SurveyEditor();
            editor.text = JSON.stringify(getSurveyJson());
            var pageCount = editor.survey.PageCount;
            editor.addPage();
            assert.equal(editor.survey.PageCount, pageCount + 1, "new Page is added");
            editor.selectDesignerClick();
            assert.equal(editor.survey.PageCount, pageCount + 1, "new Page is stil there");
            editor.selectTestClick();
            assert.equal(editor.survey.PageCount, pageCount + 1, "new Page is stil there");
        });
        function getSurveyJson() {
            return {
                pages: [{
                        name: 'page1', questions: [{ type: 'text', name: 'question1' },
                            { name: "question2", choices: ["one", { value: "two", text: "second value" }, { value: 3, text: "third value" }], type: "checkbox" }]
                    },
                    { name: 'page2', questions: [{ name: "question3", type: "comment" }] },
                    {
                        name: 'page3', questions: [{ name: "question4", columns: ["Column 1", "Column 2", "Column 3"], rows: ["Row 1", "Row 2"], type: "matrix" },
                            { name: "question5", type: "rating" }]
                    }]
            };
        }
    })(Tests = SurveyObjectEditorTests.Tests || (SurveyObjectEditorTests.Tests = {}));
})(SurveyObjectEditorTests || (SurveyObjectEditorTests = {}));

/// <reference path="../src/json5.ts" />
var SurveyObjectEditorTests;
(function (SurveyObjectEditorTests) {
    var Tests;
    (function (Tests) {
        QUnit.module("JSON5Tests");
        QUnit.test("Simple test", function (assert) {
            var json5 = new SurveyEditor.SurveyJSON5(1);
            var obj = json5.parse("{ questions: [{ type: 'text', name: 'temp', size: 20 }]}");
            assert.equal(obj.questions.length, 1, "parsed correctly");
            assert.equal(obj["pos"].start, 0, "add 'pos' property");
        });
        QUnit.test("parse only part of the string", function (assert) {
            var json5 = new SurveyEditor.SurveyJSON5(1);
            var obj = json5.parse("0123456789{ questions: [{ type: 'text', name: 'temp', size: 20 }]}0123456789", null, 10, 66);
            assert.equal(obj.questions.length, 1, "parsed correctly");
            assert.equal(obj["pos"].start, 10, "add 'pos' property");
        });
        QUnit.test("Full information about positions", function (assert) {
            var json5 = new SurveyEditor.SurveyJSON5(2);
            var obj = json5.parse("{ questions: [{ type: 'text', name: 'temp', size: 20 }]}");
            var qPos = obj["pos"]["questions"];
            assert.equal(qPos.start, 2, "start question property");
            assert.equal(qPos.valueStart, 12, "start question property value");
            assert.equal(qPos.end, 54, "end question property");
        });
        QUnit.test("Full information about positions - several properties", function (assert) {
            var json5 = new SurveyEditor.SurveyJSON5(2);
            var obj = json5.parse("{ type: 'text', name: 'temp', size: 20 }");
            var pos = obj["pos"]["type"];
            assert.equal(pos.start, 2, "start question property for 'type'");
            assert.equal(pos.valueStart, 7, "start question property value for 'type'");
            assert.equal(pos.valueEnd, 13, "end question property value for 'type'");
            assert.equal(pos.end, 14, "end question property for 'type'");
            pos = obj["pos"]["name"];
            assert.equal(pos.start, 14, "start question property for 'name'");
            assert.equal(pos.valueStart, 21, "start question property value for 'name'");
            assert.equal(pos.valueEnd, 27, "end question property value for 'name'");
            assert.equal(pos.end, 27, "end question property for 'name'");
            pos = obj["pos"]["size"];
            assert.equal(pos.start, 28, "start question property for 'size'");
            assert.equal(pos.valueStart, 35, "start question property value for 'size'");
            assert.equal(pos.valueEnd, 37, "end question property value for 'size'");
            assert.equal(pos.end, 37, "end question property for 'size'");
        });
        QUnit.test("Full information about positions - array", function (assert) {
            var json5 = new SurveyEditor.SurveyJSON5(2);
            var obj = json5.parse("{ choices:[0, 1]}");
            var pos = obj["pos"]["choices"];
            assert.equal(pos.start, 2, "start question property");
            assert.equal(pos.valueStart, 10, "start question property value");
            assert.equal(pos.end, 15, "end question property for");
        });
        QUnit.test("Empty Json test", function (assert) {
            var json5 = new SurveyEditor.SurveyJSON5(1);
            var obj = json5.parse("{ }  ");
            assert.equal(obj["pos"].start, 0, "start 'pos' position");
            assert.equal(obj["pos"].end, 2, "end 'pos' position");
        });
        QUnit.test("One property Json test", function (assert) {
            var json5 = new SurveyEditor.SurveyJSON5(1);
            var obj = json5.parse("{ v:1 }  ");
            assert.equal(obj["pos"].start, 0, "start 'pos' position");
            assert.equal(obj["pos"].end, 6, "end 'pos' position");
        });
    })(Tests = SurveyObjectEditorTests.Tests || (SurveyObjectEditorTests.Tests = {}));
})(SurveyObjectEditorTests || (SurveyObjectEditorTests = {}));

/// <reference path="../src/editorLocalization.ts" />
var SurveyEditorTests;
(function (SurveyEditorTests) {
    var Tests;
    (function (Tests) {
        QUnit.module("LocalizationTests");
        QUnit.test("Get nested property", function (assert) {
            assert.equal(SurveyEditor.editorLocalization.getString("qt.text"), "Text", "find the nested property");
            assert.equal(SurveyEditor.editorLocalization.getString("qt.text1"), "text1", "the nested property doesn't exist");
            assert.equal(SurveyEditor.editorLocalization.getString("qt1.text"), "qt1", "the root property doesn't exist");
        });
        QUnit.test("Get property name and title", function (assert) {
            assert.equal(SurveyEditor.editorLocalization.getPropertyName("text_name"), SurveyEditor.defaultStrings.p.name, "find the Name property");
            assert.equal(SurveyEditor.editorLocalization.getPropertyTitle("text_name"), "", "there is not title for it");
            assert.equal(SurveyEditor.editorLocalization.getPropertyName("text_title"), SurveyEditor.defaultStrings.p.title.name, "find the Title property");
            assert.equal(SurveyEditor.editorLocalization.getPropertyTitle("text_title"), SurveyEditor.defaultStrings.p.title.title, "find the title for Title property");
        });
    })(Tests = SurveyEditorTests.Tests || (SurveyEditorTests.Tests = {}));
})(SurveyEditorTests || (SurveyEditorTests = {}));
;

/// <reference path="../src/propertyEditors/propertyEditorBase.ts" />
/// <reference path="../src/propertyEditors/propertyItemValuesEditor.ts" />
/// <reference path="../src/propertyEditors/propertyMatrixDropdownColumnsEditor.ts" />
/// <reference path="../src/propertyEditors/propertyRestfullEditor.ts" />
var SurveyEditorTests;
(function (SurveyEditorTests) {
    var Tests;
    (function (Tests) {
        QUnit.module("PropertyEditorsTests");
        QUnit.test("Create correct property editor", function (assert) {
            var propertyEditor = SurveyEditor.SurveyPropertyEditorBase.createEditor("unknown", null);
            assert.equal(propertyEditor.editorType, "string", "The default property editor is 'string'");
            var propertyTypes = ["string", "boolean", "number", "dropdown", "text", "html", "itemvalues",
                "matrixdropdowncolumns", "textitems", "triggers", "validators", "restfull"];
            for (var i = 0; i < propertyTypes.length; i++) {
                var propType = propertyTypes[i];
                propertyEditor = SurveyEditor.SurveyPropertyEditorBase.createEditor(propType, null);
                assert.equal(propertyEditor.editorType, propType, "Create '" + propType + "' property editor");
            }
        });
        QUnit.test("SurveyPropertyItemValue", function (assert) {
            var choices = [{ value: 1, text: "item1" }, { value: 2, text: "item2" }, { value: 3, text: "item3" }];
            var itemValueProperty = new SurveyEditor.SurveyPropertyItemValuesEditor();
            itemValueProperty.onChanged = function (newValue) { choices = newValue; };
            itemValueProperty.value = choices;
            assert.equal(itemValueProperty.koItems().length, 3, "there are three elements");
            assert.equal(itemValueProperty.koItems()[1].koValue(), 2, "check value of the second element");
            assert.equal(itemValueProperty.koItems()[1].koText(), "item2", "check text of the second element");
            itemValueProperty.onDeleteClick(itemValueProperty.koItems()[1]);
            assert.equal(itemValueProperty.koItems().length, 2, "there are two elements after deleting");
            assert.equal(itemValueProperty.koItems()[1].koValue(), 3, "check value of the second element");
            assert.equal(itemValueProperty.koItems()[1].koText(), "item3", "check text of the second element");
            itemValueProperty.onAddClick();
            assert.equal(itemValueProperty.koItems().length, 3, "there are three elements after adding");
            itemValueProperty.koItems()[2].koValue(4);
            itemValueProperty.koItems()[2].koText("item4");
            assert.equal(itemValueProperty.koItems()[2].koValue(), 4, "check value of the last element");
            assert.equal(itemValueProperty.koItems()[2].koText(), "item4", "check text of the last element");
            itemValueProperty.onApplyClick();
            assert.equal(choices.length, 3, "there are three elements after adding");
            assert.equal(choices[2].value, 4, "check value of the last element");
            assert.equal(choices[2].text, "item4", "check text of the last element");
            itemValueProperty.onAddClick();
            itemValueProperty.onAddClick();
            itemValueProperty.onResetClick();
            assert.equal(itemValueProperty.koItems().length, 3, "there are three elements");
        });
        QUnit.test("SurveyPropertyItemValue: Value and Text are same", function (assert) {
            var choices = [{ value: 1, text: "1" }, { value: "item 2", text: "item 2" }];
            var itemValueProperty = new SurveyEditor.SurveyPropertyItemValuesEditor();
            itemValueProperty.onChanged = function (newValue) { choices = newValue; };
            itemValueProperty.value = choices;
            assert.equal(itemValueProperty.koItems().length, 2, "there are three elements");
            itemValueProperty.onApplyClick();
            assert.equal(choices.length, 2, "there are two items");
            assert.equal(choices[0].value, 1, "the first value is 1");
            assert.equal(choices[0].text, null, "the first text is null");
            assert.equal(choices[1].value, "item 2", "the second value is 'item 2'");
            assert.equal(choices[1].text, null, "the second text is null");
        });
        QUnit.test("SurveyPropertyItemValue: Value and Text are same and editor.alwaySaveTextInPropertyEditors = true", function (assert) {
            var choices = [{ value: 1, text: "1" }, { value: "item 2", text: "item 2" }];
            var itemValueProperty = new SurveyEditor.SurveyPropertyItemValuesEditor();
            itemValueProperty.onChanged = function (newValue) { choices = newValue; };
            itemValueProperty.value = choices;
            itemValueProperty.options = { alwaySaveTextInPropertyEditors: true };
            assert.equal(itemValueProperty.koItems().length, 2, "there are three elements");
            itemValueProperty.onApplyClick();
            assert.equal(choices.length, 2, "there are two items");
            assert.equal(choices[0].value, 1, "the first value is 1");
            assert.equal(choices[0].text, "1", "the first text is '1'");
            assert.equal(choices[1].value, "item 2", "the second value is 'item 2'");
            assert.equal(choices[1].text, "item 2", "the second text is 'item 2'");
        });
        QUnit.test("SurveyPropertyItemValue_PureValue", function (assert) {
            var choices = [1, "item2", { value: 3, text: "item3" }];
            var itemValueProperty = new SurveyEditor.SurveyPropertyItemValuesEditor();
            itemValueProperty.onChanged = function (newValue) { choices = newValue; };
            itemValueProperty.value = choices;
            assert.equal(itemValueProperty.koItems().length, 3, "there are three elements");
            assert.equal(itemValueProperty.koItems()[0].koValue(), 1, "check value of the first element");
            assert.equal(itemValueProperty.koItems()[1].koValue(), "item2", "check value of the second element");
            assert.equal(itemValueProperty.koItems()[2].koValue(), 3, "check value of the third element");
            assert.equal(itemValueProperty.koItems()[2].koText(), "item3", "check text of the third element");
        });
        QUnit.test("SurveyPropertyMatrixDropdownColumns set properties", function (assert) {
            var columns = [];
            columns.push(new Survey.MatrixDropdownColumn("column 1"));
            columns.push(new Survey.MatrixDropdownColumn("column 2"));
            columns[0].choices = [1, 2, "three"];
            var itemValueProperty = new SurveyEditor.SurveyPropertyDropdownColumnsEditor();
            itemValueProperty.onChanged = function (newValue) { columns = newValue; };
            itemValueProperty.value = columns;
            assert.equal(itemValueProperty.koItems().length, 2, "there are two elements");
            assert.equal(itemValueProperty.koItems()[0].koName(), "column 1", "the first column name");
            assert.equal(itemValueProperty.koItems()[0].koChoices().length, 3, "there are two elements");
            itemValueProperty.onAddClick();
            itemValueProperty.koItems()[2].koCellType("checkbox");
            itemValueProperty.koItems()[2].koName("column 3");
            assert.equal(itemValueProperty.koItems().length, 3, "There are 3 columns un editor");
            itemValueProperty.onApplyClick();
            assert.equal(columns.length, 3, "There are 3 columns");
            assert.equal(columns[2]["cellType"], "checkbox", "the last column has checkbox cells");
        });
        QUnit.test("Text property test - two way binding", function (assert) {
            var property = new Survey.JsonObjectProperty("text");
            property.type = "text";
            var propertyEditor = new SurveyEditor.SurveyObjectProperty(property);
            var editor = (propertyEditor.editor);
            editor.koValue("1");
            editor.onApplyClick();
            assert.equal(propertyEditor.koValue(), "1", "the value is set correctly from the editor");
            propertyEditor.koValue("2");
            assert.equal(editor.koValue(), "2", "the value is set correctly from text input");
        });
        QUnit.test("SurveyPropertyResultfullEditor test", function (assert) {
            var editor = new SurveyEditor.SurveyPropertyResultfullEditor();
            editor.value = new Survey.ChoicesRestfull();
            editor.koPath("path1");
            editor.koValueName("name2");
            editor.koTitleName("title3");
            assert.equal(editor.question.choicesByUrl.path, "path1", "test path is set");
            assert.equal(editor.question.choicesByUrl.valueName, "name2", "test name is set");
            assert.equal(editor.question.choicesByUrl.titleName, "title3", "test title is set");
        });
    })(Tests = SurveyEditorTests.Tests || (SurveyEditorTests.Tests = {}));
})(SurveyEditorTests || (SurveyEditorTests = {}));
;

/// <reference path="../src/surveyObjects.ts" />
/// <reference path="../src/objectVerbs.ts" />
/// <reference path="../src/propertyEditors/propertyTriggersEditor.ts" />
/// <reference path="../src/propertyEditors/propertyValidatorsEditor.ts" />
var SurveyObjectEditorTests;
(function (SurveyObjectEditorTests) {
    var Tests;
    (function (Tests) {
        QUnit.module("surveyObjects");
        QUnit.test("Initial objects building", function (assert) {
            var intend = SurveyEditor.SurveyObjects.intend;
            var survey = createSurvey();
            var objects = new SurveyEditor.SurveyObjects(ko.observableArray(), ko.observable());
            objects.survey = survey;
            assert.equal(objects.koObjects().length, 1 + 3 + 2 + 1 + 2, "survey + 3 pages + 5 questions.");
            assert.equal(objects.koSelected(), survey, "The selected object is survey.");
            assert.equal(objects.koObjects()[0].text(), "Survey", "The first item is Survey");
            assert.equal(objects.koObjects()[4].text(), intend + "page2", "The second page");
            assert.equal(objects.koObjects()[5].text(), intend + intend + "question3", "The third question");
        });
        QUnit.test("No name pages", function (assert) {
            var intend = SurveyEditor.SurveyObjects.intend;
            var survey = createSurvey();
            survey.pages[0].name = "";
            survey.pages[1].name = "";
            var objects = new SurveyEditor.SurveyObjects(ko.observableArray(), ko.observable());
            objects.survey = survey;
            assert.equal(objects.koObjects()[1].text(), intend + "[Page 1]", "The first item is Survey");
            assert.equal(objects.koObjects()[4].text(), intend + "[Page 2]", "The second page");
        });
        QUnit.test("selectObject method", function (assert) {
            var survey = createSurvey();
            var objects = new SurveyEditor.SurveyObjects(ko.observableArray(), ko.observable());
            objects.survey = survey;
            objects.selectObject(survey.pages[1]);
            assert.equal(objects.koSelected().value, survey.pages[1], "the second page is selected");
            objects.selectObject(survey.pages[1].questions[0]);
            assert.equal(objects.koSelected().value, survey.pages[1].questions[0], "the third question is selected");
            objects.selectObject(survey);
            assert.equal(objects.koSelected().value, survey, "survey is selected");
        });
        QUnit.test("addPage method", function (assert) {
            var survey = createSurvey();
            var objects = new SurveyEditor.SurveyObjects(ko.observableArray(), ko.observable());
            objects.survey = survey;
            var page = survey.addNewPage("newPage");
            objects.addPage(page);
            assert.equal(objects.koObjects()[objects.koObjects().length - 1].value, page, "new object is added");
            assert.equal(objects.koSelected().value, page, "new page is selected");
        });
        QUnit.test("addPage method - insert", function (assert) {
            var survey = createSurvey();
            var objects = new SurveyEditor.SurveyObjects(ko.observableArray(), ko.observable());
            objects.survey = survey;
            var page = survey.pages[2];
            survey.pages.splice(2, 1);
            objects.removeObject(page);
            survey.pages.splice(1, 0, page);
            objects.addPage(page);
            var pageIndex = survey.pages[0].questions.length + 1 + 1;
            assert.equal(objects.koObjects()[pageIndex].value, page, "the page is inserted correctly");
            assert.equal(objects.koObjects()[pageIndex + 1].value, page.questions[0], "the first question is inserted correctly");
            assert.equal(objects.koObjects()[pageIndex + 2].value, page.questions[1], "the second question is inserted correctly");
            assert.equal(objects.koObjects()[pageIndex + 3].value, survey.pages[2], "the last page has the correct index");
        });
        QUnit.test("addQuestion method", function (assert) {
            var survey = createSurvey();
            var objects = new SurveyEditor.SurveyObjects(ko.observableArray(), ko.observable());
            objects.survey = survey;
            var page = survey.pages[survey.pages.length - 1];
            var question = page.addNewQuestion("text", "newQuestion");
            objects.addQuestion(page, question);
            assert.equal(objects.koObjects()[objects.koObjects().length - 1].value, question, "new object is added");
            assert.equal(objects.koSelected().value, question, "new question is selected");
        });
        QUnit.test("addQuestion to the first page", function (assert) {
            var survey = createSurvey();
            var objects = new SurveyEditor.SurveyObjects(ko.observableArray(), ko.observable());
            objects.survey = survey;
            var page = survey.pages[0];
            var question = page.addNewQuestion("text", "newQuestion");
            objects.addQuestion(page, question);
            assert.equal(objects.koObjects()[1 + page.questions.length].value, question, "new object is added");
            assert.equal(objects.koSelected().value, question, "new question is selected");
        });
        QUnit.test("removeObject method - remove Question", function (assert) {
            var survey = createSurvey();
            var objects = new SurveyEditor.SurveyObjects(ko.observableArray(), ko.observable());
            objects.survey = survey;
            var elementsCount = objects.koObjects().length;
            objects.removeObject(survey.pages[1].questions[0]);
            assert.equal(objects.koObjects().length, elementsCount - 1, "one element is removed");
        });
        QUnit.test("removeObject method - remove Page", function (assert) {
            var survey = createSurvey();
            var objects = new SurveyEditor.SurveyObjects(ko.observableArray(), ko.observable());
            objects.survey = survey;
            var elementsCount = objects.koObjects().length;
            objects.removeObject(survey.pages[0]);
            assert.equal(objects.koObjects().length, elementsCount - 1 - 2, "page and two it's questions are removed");
        });
        QUnit.test("selectNextQuestion method", function (assert) {
            var survey = createSurvey();
            var objects = new SurveyEditor.SurveyObjects(ko.observableArray(), ko.observable());
            objects.survey = survey;
            objects.selectObject(survey.pages[0].questions[0]);
            objects.selectNextQuestion(false);
            assert.equal(objects.koSelected().value, survey.pages[0].questions[1]);
            objects.selectNextQuestion(true);
            assert.equal(objects.koSelected().value, survey.pages[0].questions[0]);
            objects.selectNextQuestion(true);
            assert.equal(objects.koSelected().value, survey.pages[0].questions[survey.pages[0].questions.length - 1]);
            objects.selectNextQuestion(false);
            assert.equal(objects.koSelected().value, survey.pages[0].questions[0]);
        });
        QUnit.test("object changed name", function (assert) {
            var survey = createSurvey();
            var objects = new SurveyEditor.SurveyObjects(ko.observableArray(), ko.observable());
            objects.survey = survey;
            survey.pages[0].name = "newname";
            objects.nameChanged(survey.pages[0]);
            assert.equal(objects.koObjects()[1].text(), SurveyEditor.SurveyObjects.intend + "newname", "new name should be 'newname'");
        });
        QUnit.test("Triggers property editor", function (assert) {
            var survey = createSurvey();
            var trigger = new Survey.SurveyTriggerVisible();
            trigger.name = "question1";
            trigger.value = "val1";
            trigger.operator = "notequal";
            trigger.questions.push("question2");
            survey.triggers.push(trigger);
            var result = [];
            var propEditor = new SurveyEditor.SurveyPropertyTriggersEditor();
            propEditor.onChanged = function (newValue) { result = newValue; };
            propEditor.object = survey;
            propEditor.value = survey.triggers;
            assert.equal(propEditor.koItems().length, 1, "There are one trigger initially");
            var koTrigger = propEditor.koSelected();
            assert.equal(koTrigger.koName(), "question1", "Name set correctly");
            assert.equal(koTrigger.koOperator(), "notequal", "operator set correctly");
            assert.equal(koTrigger.koValue(), "val1", "value set correctly");
            assert.deepEqual(koTrigger.questions.koChoosen(), ["question2"], "questions set correctly");
            propEditor.onAddClick("visibletrigger");
            assert.equal(propEditor.koItems().length, 2, "There are two triggers now");
            koTrigger = propEditor.koSelected();
            assert.equal(koTrigger.koOperator(), "equal", "default operator is equal");
            assert.equal(koTrigger.koIsValid(), false, "the trigger is not valid");
            koTrigger.koName("question2");
            assert.equal(koTrigger.koIsValid(), false, "the trigger is still not valid");
            assert.equal(koTrigger.koRequireValue(), true, "value should be set");
            koTrigger.koOperator("notempty");
            assert.equal(koTrigger.koIsValid(), true, "the trigger is valid");
            assert.equal(koTrigger.koRequireValue(), false, "value should not be set");
            assert.equal(koTrigger.koText(), "Run if 'question2' is not empty", "text for valid trigger");
            koTrigger.pages.koChoosen.push("page2");
            koTrigger.questions.koChoosen.push("question3");
            koTrigger.koValue(1);
            trigger = koTrigger.createTrigger();
            assert.equal(trigger.name, "question2", "create trigger correctly: name");
            assert.equal(trigger.operator, "notempty", "create trigger correctly: operator");
            assert.equal(trigger.value, 1, "create trigger correctly: value");
            assert.deepEqual(trigger.pages, ["page2"], "create trigger correctly: pages");
            assert.deepEqual(trigger.questions, ["question3"], "create trigger correctly: questions");
            propEditor.onAddClick("visibletrigger");
            assert.equal(propEditor.koItems().length, 3, "There are three triggers now");
            propEditor.onDeleteClick();
            assert.equal(propEditor.koItems().length, 2, "There are again two triggers");
            propEditor.onApplyClick();
            assert.equal(result.length, 2, "Two triggers are saved");
            propEditor.onAddClick("completetrigger");
            koTrigger = propEditor.koSelected();
            koTrigger.koName("question2");
            koTrigger.koOperator("notempty");
            propEditor.onApplyClick();
            assert.equal(result.length, 3, "There are 3 triggers");
            assert.equal(result[2].getType(), "completetrigger", "Complete trigger is created");
        });
        QUnit.test("Validators property editor", function (assert) {
            var survey = createSurvey();
            var validator = new Survey.NumericValidator(10, 100);
            validator.text = "validatortext";
            var question = survey.getQuestionByName("question1");
            question.validators.push(validator);
            var result = [];
            var propEditor = new SurveyEditor.SurveyPropertyValidatorsEditor();
            propEditor.onChanged = function (newValue) { result = newValue; };
            propEditor.object = question;
            propEditor.value = question.validators;
            assert.equal(propEditor.koItems().length, 1, "There are one validator initially");
            var koValidator = propEditor.koSelected();
            assert.equal(koValidator.validator.text, "validatortext", "Validator Text is set correctly");
            assert.equal(koValidator.validator.minValue, 10, "Validator 'minValue' is set correctly");
            assert.equal(koValidator.validator.maxValue, 100, "Validator 'maxValue' is set correctly");
            propEditor.onAddClick("textvalidator");
            assert.equal(propEditor.koItems().length, 2, "There are two validators now");
            var koValidator = propEditor.koSelected();
            assert.equal(koValidator.text, "textvalidator", "Created with corrected value");
            koValidator.validator.minLength = 20;
            koValidator.validator.text = "text is short.";
            propEditor.onAddClick("textvalidator");
            assert.equal(propEditor.koItems().length, 3, "There are three validators now");
            propEditor.onDeleteClick();
            assert.equal(propEditor.koItems().length, 2, "There are two validators again");
            propEditor.onApplyClick();
            assert.equal(result.length, 2, "Two validators are saved");
            assert.equal(result[1].minLength, 20, "The properties are saved too");
        });
        QUnit.test("SurveyVerbChangeTypeItem test", function (assert) {
            var survey = createSurvey();
            var verb = new SurveyEditor.SurveyVerbChangeTypeItem(survey, survey.pages[0].questions[1], null);
            assert.equal(verb.koSelectedItem(), "checkbox", "The default value is checkbox");
            verb.koSelectedItem("dropdown");
            var newQuestion = survey.pages[0].questions[1];
            assert.equal(newQuestion.getType(), "dropdown", "the question becomes 'dropdown'");
            assert.equal(newQuestion["choices"].length, 3, "properties are copied.");
            assert.equal(survey.pages[0].questions.length, 2, "we will still have two questions.");
        });
        QUnit.test("SurveyVerbChangePageItem test", function (assert) {
            var survey = createSurvey();
            var verb = new SurveyEditor.SurveyVerbChangePageItem(survey, survey.pages[0].questions[1], null);
            assert.equal(verb.koSelectedItem(), survey.pages[0], "The default value is first page");
            verb.koSelectedItem(survey.pages[2]);
            assert.equal(survey.pages[0].questions.length, 1, "one question left on the first page");
            assert.equal(survey.pages[2].questions.length, 3, "three question now on the third page");
        });
        function createSurvey() {
            return new Survey.Survey({
                pages: [{
                        name: 'page1', questions: [{ type: 'text', name: 'question1' },
                            { name: "question2", choices: ["one", { value: "two", text: "second value" }, { value: 3, text: "third value" }], type: "checkbox" }]
                    },
                    { name: 'page2', questions: [{ name: "question3", type: "comment" }] },
                    {
                        name: 'page3', questions: [{ name: "question4", columns: ["Column 1", "Column 2", "Column 3"], rows: ["Row 1", "Row 2"], type: "matrix" },
                            { name: "question5", type: "rating" }]
                    }]
            });
        }
    })(Tests = SurveyObjectEditorTests.Tests || (SurveyObjectEditorTests.Tests = {}));
})(SurveyObjectEditorTests || (SurveyObjectEditorTests = {}));

/// <reference path="../src/undoredo.ts" />
var SurveyEditorTests;
(function (SurveyEditorTests) {
    var Tests;
    (function (Tests) {
        QUnit.module("UndoRedoTests");
        QUnit.test("Enabeling undo redo", function (assert) {
            var survey = new Survey.Survey(getSurveyJson());
            var undo = new SurveyEditor.SurveyUndoRedo();
            assert.equal(undo.koCanUndo(), false, "CanUndo 1");
            assert.equal(undo.koCanRedo(), false, "CanRedo 1");
            undo.setCurrent(survey, null);
            assert.equal(undo.koCanUndo(), false, "CanUndo 2");
            assert.equal(undo.koCanRedo(), false, "CanRedo 2");
            undo.setCurrent(survey, null);
            assert.equal(undo.koCanUndo(), true, "CanUndo 3");
            assert.equal(undo.koCanRedo(), false, "CanRedo 3");
            undo.undo();
            assert.equal(undo.koCanUndo(), false, "CanUndo 4");
            assert.equal(undo.koCanRedo(), true, "CanRedo 4");
            undo.redo();
            assert.equal(undo.koCanUndo(), true, "CanUndo 5");
            assert.equal(undo.koCanRedo(), false, "CanRedo 5");
            undo.undo();
            undo.setCurrent(survey, null);
            assert.equal(undo.koCanUndo(), true, "CanUndo 6");
            assert.equal(undo.koCanRedo(), false, "CanRedo 6");
            undo.setCurrent(survey, null);
            assert.equal(undo.koCanUndo(), true, "CanUndo 7");
            assert.equal(undo.koCanRedo(), false, "CanRedo 7");
            undo.undo();
            assert.equal(undo.koCanUndo(), true, "CanUndo 8");
            assert.equal(undo.koCanRedo(), true, "CanRedo 8");
            undo.undo();
            assert.equal(undo.koCanUndo(), false, "CanUndo 9");
            assert.equal(undo.koCanRedo(), true, "CanRedo 9");
        });
        QUnit.test("Do undo", function (assert) {
            var survey = new Survey.Survey(getSurveyJson());
            var undo = new SurveyEditor.SurveyUndoRedo();
            undo.setCurrent(survey, null);
            survey.addNewPage("New Page");
            undo.setCurrent(survey, null);
            assert.equal(4, survey.pages.length);
            survey = new Survey.Survey(undo.undo().surveyJSON);
            assert.equal(3, survey.pages.length);
        });
        QUnit.test("Do undo/redo", function (assert) {
            var survey = new Survey.Survey(getSurveyJson());
            var undo = new SurveyEditor.SurveyUndoRedo();
            undo.setCurrent(survey, null);
            survey.addNewPage("New Page");
            undo.setCurrent(survey, null);
            survey = new Survey.Survey(undo.undo().surveyJSON);
            assert.equal(3, survey.pages.length, "3 pages after undo");
            survey = new Survey.Survey(undo.redo().surveyJSON);
            assert.equal(4, survey.pages.length, "4 pages after redo");
        });
        QUnit.test("Undo maximum count", function (assert) {
            var survey = new Survey.Survey(getSurveyJson());
            var undo = new SurveyEditor.SurveyUndoRedo();
            undo.maximumCount = 2;
            for (var i = 0; i < 10; i++) {
                undo.setCurrent(survey, null);
            }
            assert.equal(undo.koCanUndo(), true, "Initial can undo");
            undo.undo();
            undo.undo();
            assert.equal(undo.koCanUndo(), false, "Store only for two undo");
        });
        QUnit.test("Do undo/redo with editor", function (assert) {
            var editor = new SurveyEditor.SurveyEditor();
            editor.text = JSON.stringify(getSurveyJson());
            editor.addPage();
            assert.equal(4, editor.survey.pages.length);
            editor.doUndoClick();
            assert.equal(3, editor.survey.pages.length);
            editor.doRedoClick();
            assert.equal(4, editor.survey.pages.length);
            assert.equal(editor.koSelectedObject().value, editor.survey.pages[editor.survey.pages.length - 1], "the last page should be selected");
        });
        function getSurveyJson() {
            return {
                pages: [{
                        name: 'page1', questions: [{ type: 'text', name: 'question1' },
                            { name: "question2", choices: ["one", { value: "two", text: "second value" }, { value: 3, text: "third value" }], type: "checkbox" }]
                    },
                    { name: 'page2', questions: [{ name: "question3", type: "comment" }] },
                    {
                        name: 'page3', questions: [{ name: "question4", columns: ["Column 1", "Column 2", "Column 3"], rows: ["Row 1", "Row 2"], type: "matrix" },
                            { name: "question5", type: "rating" }]
                    }]
            };
        }
    })(Tests = SurveyEditorTests.Tests || (SurveyEditorTests.Tests = {}));
})(SurveyEditorTests || (SurveyEditorTests = {}));

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9iamVjdEVkaXRvclRlc3RlZENsYXNzZXMudHMiLCJPYmplY3RFZGl0b3JUZXN0cy50cyIsIlN1cnZleUVkaXRvclRlc3RzLnRzIiwianNvbjV0ZXN0cy50cyIsImxvY2FsaXphdGlvblRlc3RzLnRzIiwicHJvcGVydHlFZGl0b3JzVGVzdHMudHMiLCJzdXJ2ZXlPYmplY3RzVGVzdHMudHMiLCJ1bmRvcmVkb1Rlc3RzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBTyx1QkFBdUIsQ0ErQzdCO0FBL0NELFdBQU8sdUJBQXVCO0lBQUMsSUFBQSxLQUFLLENBK0NuQztJQS9DOEIsV0FBQSxLQUFLLEVBQUMsQ0FBQztRQUNsQztZQUFBO1lBR0EsQ0FBQztZQURVLHFCQUFPLEdBQWQsY0FBMkIsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDOUMsVUFBQztRQUFELENBSEEsQUFHQyxJQUFBO1FBSFksU0FBRyxNQUdmLENBQUE7UUFDRDtZQUE2QiwyQkFBRztZQUFoQztnQkFBNkIsOEJBQUc7WUFFaEMsQ0FBQztZQURVLHlCQUFPLEdBQWQsY0FBMkIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDL0MsY0FBQztRQUFELENBRkEsQUFFQyxDQUY0QixHQUFHLEdBRS9CO1FBRlksYUFBTyxVQUVuQixDQUFBO1FBQ0Q7WUFBNEIsMEJBQUc7WUFBL0I7Z0JBQTRCLDhCQUFHO1lBRS9CLENBQUM7WUFEVSx3QkFBTyxHQUFkLGNBQTJCLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQzlDLGFBQUM7UUFBRCxDQUZBLEFBRUMsQ0FGMkIsR0FBRyxHQUU5QjtRQUZZLFlBQU0sU0FFbEIsQ0FBQTtRQUNEO1lBQThCLDRCQUFPO1lBQXJDO2dCQUE4Qiw4QkFBTztZQUdyQyxDQUFDO1lBRFUsMEJBQU8sR0FBZCxjQUEyQixNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUNoRCxlQUFDO1FBQUQsQ0FIQSxB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Q0FBQyxTQUFTLEVBQUUsRUFBRSxLQUFLLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDbkQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDOUIsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUUsSUFBSSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQ2xELE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQztZQUNuRCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDWixNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRSxLQUFLLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDbkQsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUUsSUFBSSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQ2xELElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNaLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFLElBQUksRUFBRSxXQUFXLENBQUMsQ0FBQztZQUNsRCxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRSxLQUFLLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDbkQsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ1osSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDOUIsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUUsSUFBSSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQ2xELE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFFLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQztZQUNuRCxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztZQUM5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RSxRQUFRLEVBQUU7NEJBQ3JJLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLENBQUM7cUJBQzdDLENBQUM7YUFDVCxDQUFDO1FBQ04sQ0FBQztJQUNMLENBQUMsRUExRndCLEtBQUssR0FBTCx1QkFBSyxLQUFMLHVCQUFLLFFBMEY3QjtBQUFELENBQUMsRUExRk0saUJBQWlCLEtBQWpCLGlCQUFpQixRQTBGdkIiLCJmaWxlIjoic3VydmV5ZWRpdG9yLnRlc3RzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlIFN1cnZleU9iamVjdEVkaXRvclRlc3RzLlRlc3RzIHtcbiAgICBleHBvcnQgY2xhc3MgQ2FyIHtcbiAgICAgICAgcHVibGljIG5hbWU6IHN0cmluZztcbiAgICAgICAgcHVibGljIGdldFR5cGUoKTogc3RyaW5nIHsgcmV0dXJuIFwiY2FyXCI7IH1cbiAgICB9XG4gICAgZXhwb3J0IGNsYXNzIEZhc3RDYXIgZXh0ZW5kcyBDYXIge1xuICAgICAgICBwdWJsaWMgZ2V0VHlwZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJmYXN0XCI7IH1cbiAgICB9XG4gICAgZXhwb3J0IGNsYXNzIEJpZ0NhciBleHRlbmRzIENhciB7XG4gICAgICAgIHB1YmxpYyBnZXRUeXBlKCk6IHN0cmluZyB7IHJldHVybiBcImJpZ1wiOyB9XG4gICAgfVxuICAgIGV4cG9ydCBjbGFzcyBTcG9ydENhciBleHRlbmRzIEZhc3RDYXIge1xuICAgICAgICBwdWJsaWMgbWF4U3BlZWQ6IG51bWJlcjtcbiAgICAgICAgcHVibGljIGdldFR5cGUoKTogc3RyaW5nIHsgcmV0dXJuIFwic3BvcnRcIjsgfVxuICAgIH1cbiAgICBleHBvcnQgY2xhc3MgVHJ1Y2sgZXh0ZW5kcyBCaWdDYXIge1xuICAgICAgICBwdWJsaWMgbWF4V2VpZ2h0OiBudW1iZXI7XG4gICAgICAgIHB1YmxpYyBnZXRUeXBlKCk6IHN0cmluZyB7IHJldHVybiBcInRydWNrXCI7IH1cbiAgICB9XG4gICAgZXhwb3J0IGNsYXNzIFRydWNrRGVmYXVsdFZhbHVlIGV4dGVuZHMgVHJ1Y2sge1xuICAgICAgICBwcml2YXRlIHRpdGxlVmFsdWU6IHN0cmluZztcbiAgICAgICAgcHVibGljIGlzTmV3OiBib29sZWFuO1xuICAgICAgICBwdWJsaWMgZ2V0VHlwZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJ0cnVja0RlZmF1bHRcIjsgfVxuICAgICAgICBwdWJsaWMgZ2V0IHRpdGxlKCk6IHN0cmluZyB7XG4gICAgICAgICAgICByZXR1cm4gXCIhXCIgKyB0aGlzLnRpdGxlVmFsdWUgKyBcIiFcIjtcbiAgICAgICAgfVxuICAgICAgICBwdWJsaWMgc2V0IHRpdGxlKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMudGl0bGVWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgU3VydmV5Lkpzb25PYmplY3QubWV0YURhdGEuYWRkQ2xhc3MoXCJmYXN0XCIsIFtdLCBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgRmFzdENhcigpOyB9LCBcImNhclwiKTtcbiAgICBTdXJ2ZXkuSnNvbk9iamVjdC5tZXRhRGF0YS5hZGRDbGFzcyhcImJpZ1wiLCBbXSwgbnVsbCwgXCJjYXJcIik7XG4gICAgU3VydmV5Lkpzb25PYmplY3QubWV0YURhdGEuYWRkQ2xhc3MoXCJjYXJcIiwgW1wibmFtZVwiXSk7XG4gICAgU3VydmV5Lkpzb25PYmplY3QubWV0YURhdGEuYWRkQ2xhc3MoXCJ0cnVja1wiLCBbXCJtYXhXZWlnaHQ6bnVtYmVyXCJdLCBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgVHJ1Y2soKTsgfSwgXCJiaWdcIik7XG4gICAgU3VydmV5Lkpzb25PYmplY3QubWV0YURhdGEuYWRkQ2xhc3MoXCJzcG9ydFwiLCBbXCIhbWF4U3BlZWQ6bnVtYmVyXCJdLCBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgU3BvcnRDYXIoKTsgfSwgXCJmYXN0XCIpO1xuICAgIFN1cnZleS5Kc29uT2JqZWN0Lm1ldGFEYXRhLmFkZENsYXNzKFwidHJ1Y2tEZWZhdWx0XCIsIFtcImlzTmV3OmJvb2xlYW5cIiwgXCJ0aXRsZTpzdHJpbmdcIl0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBUcnVja0RlZmF1bHRWYWx1ZSgpOyB9LCBcInRydWNrXCIpO1xuICAgIC8vVE9ETyBhZGQgb25HZXRWYWx1ZSBpbnRvIHRoZSBsaW5lIGFib3ZlLlxuICAgIHZhciBwcm9wZXJ0aWVzID0gU3VydmV5Lkpzb25PYmplY3QubWV0YURhdGEuZ2V0UHJvcGVydGllcyhcInRydWNrRGVmYXVsdFwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHByb3BlcnRpZXNbaV0ubmFtZSA9PSBcInRpdGxlXCIpIHtcbiAgICAgICAgICAgIHByb3BlcnRpZXNbaV0ub25HZXRWYWx1ZSA9IGZ1bmN0aW9uIChvYmo6IGFueSkgeyByZXR1cm4gb2JqLnRpdGxlVmFsdWU7IH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vU3VydmV5Lkpzb25PYmplY3QubWV0YURhdGEuc2V0UHJvcGVydHlWYWx1ZXMoXCJ0cnVja0RlZmF1bHRcIiwgXCJ0aXRsZVwiLCBudWxsLCBudWxsLCBmdW5jdGlvbiAob2JqOiBhbnkpIHsgcmV0dXJuIG9iai50aXRsZVZhbHVlOyB9KTtcblxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9zcmMvb2JqZWN0RWRpdG9yLnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJPYmplY3RFZGl0b3JUZXN0ZWRDbGFzc2VzLnRzXCIgLz5cblxubW9kdWxlIFN1cnZleU9iamVjdEVkaXRvclRlc3RzLlRlc3RzIHtcbiAgICBRVW5pdC5tb2R1bGUoXCJvYmplY3RFZGl0b3JUZXN0c1wiKTtcblxuICAgIFFVbml0LnRlc3QoXCJDcmVhdGVkIHByb3BlcnRpZXMgb24gc2V0IHNlbGVjdGVkIE9iamVjdFwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSBuZXcgU3VydmV5RWRpdG9yLlN1cnZleU9iamVjdEVkaXRvcigpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoZWRpdG9yLmtvUHJvcGVydGllcygpLmxlbmd0aCwgMCwgXCJObyBwcm9wZXJ0aWVzIGZvciBudWxsIG9iamVjdFwiKTtcblxuICAgICAgICBlZGl0b3Iuc2VsZWN0ZWRPYmplY3QgPSBuZXcgQmlnQ2FyKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3Iua29Qcm9wZXJ0aWVzKCkubGVuZ3RoLCAxLCBcIk9uZSBwcm9wZXJ0eSBvYmplY3RcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3Iua29Qcm9wZXJ0aWVzKClbMF0ubmFtZSwgXCJuYW1lXCIsIFwibmFtZSBwcm9wZXJ0eVwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGVkaXRvci5rb1Byb3BlcnRpZXMoKVswXS5lZGl0b3JUeXBlLCBcInN0cmluZ1wiLCBcIkl0IGlzIGEgdGV4dCBlZGl0b3JcIik7XG5cbiAgICAgICAgZWRpdG9yLnNlbGVjdGVkT2JqZWN0ID0gbmV3IFRydWNrKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3Iua29Qcm9wZXJ0aWVzKCkubGVuZ3RoLCAyLCBcIlR3byBwcm9wZXJ0eSBvYmplY3RcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3Iua29Qcm9wZXJ0aWVzKClbMF0ubmFtZSwgXCJtYXhXZWlnaHRcIiwgXCJtYXhXZWlnaHQgcHJvcGVydHlcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3Iua29Qcm9wZXJ0aWVzKClbMV0ubmFtZSwgXCJuYW1lXCIsIFwibmFtZSBwcm9wZXJ0eVwiKTtcbiAgICB9KTtcbiAgICBRVW5pdC50ZXN0KFwiR2V0IFByb3BlcnR5IFZhbHVlXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcbiAgICAgICAgdmFyIGVkaXRvciA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5T2JqZWN0RWRpdG9yKCk7XG4gICAgICAgIHZhciBjYXIgPSBuZXcgVHJ1Y2soKTtcbiAgICAgICAgY2FyLm5hbWUgPSBcInRydWNrQ2FyXCI7XG4gICAgICAgIGNhci5tYXhXZWlnaHQgPSAyMDAwMDtcbiAgICAgICAgZWRpdG9yLnNlbGVjdGVkT2JqZWN0ID0gY2FyO1xuICAgICAgICBhc3NlcnQuZXF1YWwoZWRpdG9yLmtvUHJvcGVydGllcygpWzFdLmtvVmFsdWUoKSwgXCJ0cnVja0NhclwiLCBcImdldCBuYW1lIHByb3BlcnR5XCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoZWRpdG9yLmtvUHJvcGVydGllcygpWzBdLmtvVmFsdWUoKSwgMjAwMDAsIFwiZ2V0IG1heFdlaWdodCBwcm9wZXJ0eVwiKTtcbiAgICB9KTtcbiAgICBRVW5pdC50ZXN0KFwiaXNEZWZhdWx0IHByb3BlcnR5IHZhbHVlXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcbiAgICAgICAgdmFyIGVkaXRvciA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5T2JqZWN0RWRpdG9yKCk7XG4gICAgICAgIHZhciBjYXIgPSBuZXcgVHJ1Y2tEZWZhdWx0VmFsdWUoKTtcbiAgICAgICAgZWRpdG9yLnNlbGVjdGVkT2JqZWN0ID0gY2FyO1xuICAgICAgICB2YXIgcHJvcGVydHkgPSBlZGl0b3IuZ2V0UHJvcGVydHlFZGl0b3IoXCJpc05ld1wiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHByb3BlcnR5LmtvSXNEZWZhdWx0KCksIHRydWUsIFwidGhlIHZhbHVlIGlzIGRlZmF1bHRcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChwcm9wZXJ0eS5lZGl0b3JUeXBlLCBcImJvb2xlYW5cIiwgXCJJdCBpcyBhIGJvb2xlYW4gZWRpdG9yXCIpO1xuICAgICAgICBjYXIuaXNOZXcgPSB0cnVlO1xuICAgICAgICBlZGl0b3IuT2JqZWN0Q2hhbmdlZCgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocHJvcGVydHkua29Jc0RlZmF1bHQoKSwgZmFsc2UsIFwidGhlIHZhbHVlIGlzIG5vdCBkZWZhdWx0XCIpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJBY3RpdmUgcHJvcGVydHlcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgZWRpdG9yID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlPYmplY3RFZGl0b3IoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGVkaXRvci5rb0FjdGl2ZVByb3BlcnR5KCksIG51bGwsIFwibm8gcHJvcGVydGllc1wiKTtcbiAgICAgICAgZWRpdG9yLnNlbGVjdGVkT2JqZWN0ID0gbmV3IFRydWNrRGVmYXVsdFZhbHVlKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3Iua29BY3RpdmVQcm9wZXJ0eSgpLm5hbWUsIFwibmFtZVwiLCBcIm5hbWUgcHJvcGVydHkgaXMgYWN0aXZlIGJ5IGRlZmF1bHRcIik7XG4gICAgfSk7XG4gICAgUVVuaXQudGVzdChcIk9uIHByb3BlcnR5IGNoYW5nZWRcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgZWRpdG9yID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlPYmplY3RFZGl0b3IoKTtcbiAgICAgICAgdmFyIGNhciA9IG5ldyBUcnVja0RlZmF1bHRWYWx1ZSgpO1xuICAgICAgICBjYXIubmFtZSA9IFwibXlOYW1lXCI7XG4gICAgICAgIHZhciBjYWxsQ291bnRlciA9IDA7XG4gICAgICAgIGVkaXRvci5vblByb3BlcnR5VmFsdWVDaGFuZ2VkLmFkZCgoc2VuZGVyLCBvcHRpb25zKSA9PiB7IGNhci5uYW1lID0gb3B0aW9ucy5uZXdWYWx1ZTsgY2FsbENvdW50ZXIrKzsgfSk7XG4gICAgICAgIGVkaXRvci5zZWxlY3RlZE9iamVjdCA9IGNhcjtcbiAgICAgICAgZWRpdG9yLmtvQWN0aXZlUHJvcGVydHkoKS5rb1ZhbHVlKFwibmV3TmFtZVwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGNhci5uYW1lLCBcIm5ld05hbWVcIiwgXCJvbiBwcm9wZXJ0eSBjaGFuZ2VkIGV2ZW50IGlzIHdvcmtpbmdcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChjYWxsQ291bnRlciwgMSwgXCJJdCBzaG91bGQgYmUgY2FsbGVkIG9ubHkgb25lIHRpbWVcIik7XG4gICAgfSk7XG4gICAgUVVuaXQudGVzdChcIlVzZSBtZXRhZGF0YSBnZXRQcm9wZXJ0eVZhbHVlIGZ1bmN0aW9uXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcbiAgICAgICAgdmFyIGVkaXRvciA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5T2JqZWN0RWRpdG9yKCk7XG4gICAgICAgIHZhciBjYXIgPSBuZXcgVHJ1Y2tEZWZhdWx0VmFsdWUoKTtcbiAgICAgICAgY2FyLnRpdGxlID0gXCJ0ZXN0XCI7XG4gICAgICAgIGVkaXRvci5zZWxlY3RlZE9iamVjdCA9IGNhcjtcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gZWRpdG9yLmdldFByb3BlcnR5RWRpdG9yKFwidGl0bGVcIik7XG4gICAgICAgIFxuICAgICAgICBlZGl0b3Iua29BY3RpdmVQcm9wZXJ0eSgpLmtvVmFsdWUoXCJuZXdOYW1lXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocHJvcGVydHkua29UZXh0KCksIFwidGVzdFwiLCBcInVzZSB0aGUgcmVhbCB2YWx1ZSB0byBnZXQgdmFsdWVcIik7XG4gICAgfSk7XG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy9lZGl0b3IudHNcIiAvPlxubW9kdWxlIFN1cnZleU9iamVjdEVkaXRvclRlc3RzLlRlc3RzIHtcbiAgICBRVW5pdC5tb2R1bGUoXCJzdXJ2ZXlFZGl0b3JUZXN0c1wiKTtcblxuICAgIFFVbml0LnRlc3QoXCJTZXQgVGV4dCBwcm9wZXJ0eVwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSBuZXcgU3VydmV5RWRpdG9yLlN1cnZleUVkaXRvcigpO1xuICAgICAgICB2YXIganNvbiA9IHtcbiAgICAgICAgICAgIHF1ZXN0aW9uczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLCBuYW1lOiBcImNhclwiLCB0aXRsZTogXCJXaGF0IGNhciBhcmUgeW91IGRyaXZpbmc/XCIsIGlzUmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbENvdW50OiA0LCBjaG9pY2VzOiBbXCJOb25lXCIsIFwiRm9yZFwiLCBcIlZhdXhoYWxsXCIsIFwiVm9sa3N3YWdlblwiLCBcIk5pc3NhblwiLCBcIkF1ZGlcIiwgXCJNZXJjZWRlcy1CZW56XCIsIFwiQk1XXCIsIFwiUGV1Z2VvdFwiLCBcIlRveW90YVwiLCBcIkNpdHJvZW5cIl1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgICAgIHZhciBqc29uVGV4dCA9IEpTT04uc3RyaW5naWZ5KGpzb24pO1xuICAgICAgICBlZGl0b3IudGV4dCA9IGpzb25UZXh0O1xuICAgICAgICBhc3NlcnQuZXF1YWwoZWRpdG9yLmtvSXNTaG93RGVzaWduZXIoKSwgdHJ1ZSk7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3Iuc3VydmV5LmdldEFsbFF1ZXN0aW9ucygpLmxlbmd0aCwgMSwgXCJUaGVyZSBpcyBvbmUgcXVlc3Rpb25cIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3Iuc3VydmV5LmdldEFsbFF1ZXN0aW9ucygpWzBdLm5hbWUsIFwiY2FyXCIsIFwiVGhlIHF1ZXN0aW9uIGNvbnZlcnRlZCBzdWNjZXNzdWZ1bGxcIik7XG4gICAgICAgIGpzb25UZXh0ID0ganNvblRleHQuc3Vic3RyKDUpO1xuICAgICAgICBlZGl0b3IudGV4dCA9IGpzb25UZXh0O1xuICAgICAgICBhc3NlcnQuZXF1YWwoZWRpdG9yLmtvSXNTaG93RGVzaWduZXIoKSwgZmFsc2UpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJDb3B5IFF1ZXN0aW9uXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcbiAgICAgICAgdmFyIGVkaXRvciA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5RWRpdG9yKCk7XG4gICAgICAgIGVkaXRvci50ZXh0ID0gSlNPTi5zdHJpbmdpZnkoZ2V0U3VydmV5SnNvbigpKTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwoZWRpdG9yLmtvQ29waWVkUXVlc3Rpb25zKCkubGVuZ3RoLCAwLCBcIlRoZXJlIGlzIG5vIGNvcGllZCBxdWVzdGlvbiB5ZXQuXCIpO1xuICAgICAgICBlZGl0b3IuY29weVF1ZXN0aW9uKDxTdXJ2ZXkuUXVlc3Rpb24+ZWRpdG9yLnN1cnZleS5nZXRBbGxRdWVzdGlvbnMoKVswXSk7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3Iua29Db3BpZWRRdWVzdGlvbnMoKS5sZW5ndGgsIDEsIFwiVGhlcmUgaXMgb25lIGNvcGllZCBxdWVzdGlvbiBub3cuXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoZWRpdG9yLmtvQ29waWVkUXVlc3Rpb25zKClbMF0ubmFtZSwgXCJxdWVzdGlvbjFcIiwgXCJUaGUgY29waWVkIHF1ZXN0aW9uIGlzICdxdWVzdGlvbjEnXCIpO1xuICAgICAgICBlZGl0b3IuY29weVF1ZXN0aW9uKDxTdXJ2ZXkuUXVlc3Rpb24+ZWRpdG9yLnN1cnZleS5nZXRBbGxRdWVzdGlvbnMoKVswXSk7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3Iua29Db3BpZWRRdWVzdGlvbnMoKS5sZW5ndGgsIDEsIFwiVGhlcmUgaXMgc3RpbGwgb25lIGNvcGllZCBxdWVzdGlvbiBub3cuXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoZWRpdG9yLmtvQ29waWVkUXVlc3Rpb25zKClbMF0ubmFtZSwgXCJxdWVzdGlvbjFcIiwgXCJUaGUgY29waWVkIHF1ZXN0aW9uIGlzICdxdWVzdGlvbjEnXCIpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJvcHRpb25zLnF1ZXN0aW9uVHlwZXNcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgYWxsVHlwZXMgPSBTdXJ2ZXkuUXVlc3Rpb25GYWN0b3J5Lkluc3RhbmNlLmdldEFsbFR5cGVzKCk7XG4gICAgICAgIHZhciBlZGl0b3IgPSBuZXcgU3VydmV5RWRpdG9yLlN1cnZleUVkaXRvcihudWxsLCBudWxsKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGVkaXRvci5xdWVzdGlvblR5cGVzLmxlbmd0aCwgYWxsVHlwZXMubGVuZ3RoLCBcIkFsbCB0eXBlcyBhcmUgYWNjZXB0ZWRcIik7XG4gICAgICAgIGVkaXRvciA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5RWRpdG9yKG51bGwsIHsgcXVlc3Rpb25UeXBlczogW1widGV4dFwiLCBcImRyb3Bkb3duXCIsIFwidW5rbm93blwiXX0pO1xuICAgICAgICBhc3NlcnQuZXF1YWwoZWRpdG9yLnF1ZXN0aW9uVHlwZXMubGVuZ3RoLCAyLCBcIk9ubHkgdHdvIHR5cGVzIGZyb20gdGhyZWUgYXJlIGFjY2VwdGVkXCIpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJFZGl0b3Igc3RhdGUgcHJvcGVydHlcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgZWRpdG9yID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlFZGl0b3IoKTtcbiAgICAgICAgZWRpdG9yLnNhdmVTdXJ2ZXlGdW5jID0gZnVuY3Rpb24gKG5vOiBudW1iZXIsIGRvU2F2ZUNhbGxiYWNrOiAobm86IG51bWJlciwgaXNTdWNjZXNzOiBib29sZWFuKSA9PiB2b2lkKSB7XG4gICAgICAgICAgICBkb1NhdmVDYWxsYmFjayhubywgdHJ1ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICBlZGl0b3IudGV4dCA9IEpTT04uc3RyaW5naWZ5KGdldFN1cnZleUpzb24oKSk7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3Iuc3RhdGUsIFwiXCIpO1xuICAgICAgICBlZGl0b3IuYWRkUGFnZSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoZWRpdG9yLnN0YXRlLCBcIm1vZGlmaWVkXCIpO1xuICAgICAgICBlZGl0b3Iuc2F2ZUJ1dHRvbkNsaWNrKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3Iuc3RhdGUsIFwic2F2ZWRcIik7XG4gICAgICAgIC8qXG4gICAgICAgIGVkaXRvci5hZGRQYWdlKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3Iuc3RhdGUsIFwibW9kaWZpZWRcIik7XG4gICAgICAgIGVkaXRvci5kb1VuZG9DbGljaygpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoZWRpdG9yLnN0YXRlLCBcInNhdmVkXCIpO1xuICAgICAgICBlZGl0b3IuZG9SZWRvQ2xpY2soKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGVkaXRvci5zdGF0ZSwgXCJtb2RpZmllZFwiKTtcbiAgICAgICAgKi9cbiAgICB9KTtcbiAgICBRVW5pdC50ZXN0KFwiRG8gbm90IHJlbG9hZCBzdXJleSBvbiAnRGVzaWduZXInIHRhYiBjbGlja1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSBuZXcgU3VydmV5RWRpdG9yLlN1cnZleUVkaXRvcigpO1xuICAgICAgICBlZGl0b3IudGV4dCA9IEpTT04uc3RyaW5naWZ5KGdldFN1cnZleUpzb24oKSk7XG4gICAgICAgIHZhciBwYWdlQ291bnQgPSBlZGl0b3Iuc3VydmV5LlBhZ2VDb3VudDtcbiAgICAgICAgZWRpdG9yLmFkZFBhZ2UoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGVkaXRvci5zdXJ2ZXkuUGFnZUNvdW50LCBwYWdlQ291bnQgKyAxLCBcIm5ldyBQYWdlIGlzIGFkZGVkXCIpO1xuICAgICAgICBlZGl0b3Iuc2VsZWN0RGVzaWduZXJDbGljaygpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoZWRpdG9yLnN1cnZleS5QYWdlQ291bnQsIHBhZ2VDb3VudCArIDEsIFwibmV3IFBhZ2UgaXMgc3RpbCB0aGVyZVwiKTtcbiAgICAgICAgZWRpdG9yLnNlbGVjdFRlc3RDbGljaygpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoZWRpdG9yLnN1cnZleS5QYWdlQ291bnQsIHBhZ2VDb3VudCArIDEsIFwibmV3IFBhZ2UgaXMgc3RpbCB0aGVyZVwiKTtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBnZXRTdXJ2ZXlKc29uKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYWdlczogW3tcbiAgICAgICAgICAgICAgICBuYW1lOiAncGFnZTEnLCBxdWVzdGlvbnM6IFt7IHR5cGU6ICd0ZXh0JywgbmFtZTogJ3F1ZXN0aW9uMScgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcInF1ZXN0aW9uMlwiLCBjaG9pY2VzOiBbXCJvbmVcIiwgeyB2YWx1ZTogXCJ0d29cIiwgdGV4dDogXCJzZWNvbmQgdmFsdWVcIiB9LCB7IHZhbHVlOiAzLCB0ZXh0OiBcInRoaXJkIHZhbHVlXCIgfV0sIHR5cGU6IFwiY2hlY2tib3hcIiB9XVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdwYWdlMicsIHF1ZXN0aW9uczogW3sgbmFtZTogXCJxdWVzdGlvbjNcIiwgdHlwZTogXCJjb21tZW50XCIgfV0gfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwYWdlMycsIHF1ZXN0aW9uczogW3sgbmFtZTogXCJxdWVzdGlvbjRcIiwgY29sdW1uczogW1wiQ29sdW1uIDFcIiwgXCJDb2x1bW4gMlwiLCBcIkNvbHVtbiAzXCJdLCByb3dzOiBbXCJSb3cgMVwiLCBcIlJvdyAyXCJdLCB0eXBlOiBcIm1hdHJpeFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwicXVlc3Rpb241XCIsIHR5cGU6IFwicmF0aW5nXCIgfV1cbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICB9O1xuICAgIH1cbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vc3JjL2pzb241LnRzXCIgLz5cblxubW9kdWxlIFN1cnZleU9iamVjdEVkaXRvclRlc3RzLlRlc3RzIHtcbiAgICBRVW5pdC5tb2R1bGUoXCJKU09ONVRlc3RzXCIpO1xuICAgIFFVbml0LnRlc3QoXCJTaW1wbGUgdGVzdFwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBqc29uNSA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5SlNPTjUoMSk7XG4gICAgICAgIHZhciBvYmogPSBqc29uNS5wYXJzZShcInsgcXVlc3Rpb25zOiBbeyB0eXBlOiAndGV4dCcsIG5hbWU6ICd0ZW1wJywgc2l6ZTogMjAgfV19XCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwob2JqLnF1ZXN0aW9ucy5sZW5ndGgsIDEsIFwicGFyc2VkIGNvcnJlY3RseVwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKG9ialtcInBvc1wiXS5zdGFydCwgMCwgXCJhZGQgJ3BvcycgcHJvcGVydHlcIik7XG4gICAgfSk7XG4gICAgUVVuaXQudGVzdChcInBhcnNlIG9ubHkgcGFydCBvZiB0aGUgc3RyaW5nXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcbiAgICAgICAgdmFyIGpzb241ID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlKU09ONSgxKTtcbiAgICAgICAgdmFyIG9iaiA9IGpzb241LnBhcnNlKFwiMDEyMzQ1Njc4OXsgcXVlc3Rpb25zOiBbeyB0eXBlOiAndGV4dCcsIG5hbWU6ICd0ZW1wJywgc2l6ZTogMjAgfV19MDEyMzQ1Njc4OVwiLCBudWxsLCAxMCwgNjYpO1xuICAgICAgICBhc3NlcnQuZXF1YWwob2JqLnF1ZXN0aW9ucy5sZW5ndGgsIDEsIFwicGFyc2VkIGNvcnJlY3RseVwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKG9ialtcInBvc1wiXS5zdGFydCwgMTAsIFwiYWRkICdwb3MnIHByb3BlcnR5XCIpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJGdWxsIGluZm9ybWF0aW9uIGFib3V0IHBvc2l0aW9uc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBqc29uNSA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5SlNPTjUoMik7XG4gICAgICAgIHZhciBvYmogPSBqc29uNS5wYXJzZShcInsgcXVlc3Rpb25zOiBbeyB0eXBlOiAndGV4dCcsIG5hbWU6ICd0ZW1wJywgc2l6ZTogMjAgfV19XCIpO1xuICAgICAgICB2YXIgcVBvcyA9IG9ialtcInBvc1wiXVtcInF1ZXN0aW9uc1wiXTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHFQb3Muc3RhcnQsIDIsIFwic3RhcnQgcXVlc3Rpb24gcHJvcGVydHlcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChxUG9zLnZhbHVlU3RhcnQsIDEyLCBcInN0YXJ0IHF1ZXN0aW9uIHByb3BlcnR5IHZhbHVlXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocVBvcy5lbmQsIDU0LCBcImVuZCBxdWVzdGlvbiBwcm9wZXJ0eVwiKTtcbiAgICB9KTtcblxuICAgIFFVbml0LnRlc3QoXCJGdWxsIGluZm9ybWF0aW9uIGFib3V0IHBvc2l0aW9ucyAtIHNldmVyYWwgcHJvcGVydGllc1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBqc29uNSA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5SlNPTjUoMik7XG4gICAgICAgIHZhciBvYmogPSBqc29uNS5wYXJzZShcInsgdHlwZTogJ3RleHQnLCBuYW1lOiAndGVtcCcsIHNpemU6IDIwIH1cIik7XG4gICAgICAgIHZhciBwb3MgPSBvYmpbXCJwb3NcIl1bXCJ0eXBlXCJdO1xuICAgICAgICBhc3NlcnQuZXF1YWwocG9zLnN0YXJ0LCAyLCBcInN0YXJ0IHF1ZXN0aW9uIHByb3BlcnR5IGZvciAndHlwZSdcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChwb3MudmFsdWVTdGFydCwgNywgXCJzdGFydCBxdWVzdGlvbiBwcm9wZXJ0eSB2YWx1ZSBmb3IgJ3R5cGUnXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocG9zLnZhbHVlRW5kLCAxMywgXCJlbmQgcXVlc3Rpb24gcHJvcGVydHkgdmFsdWUgZm9yICd0eXBlJ1wiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHBvcy5lbmQsIDE0LCBcImVuZCBxdWVzdGlvbiBwcm9wZXJ0eSBmb3IgJ3R5cGUnXCIpO1xuXG4gICAgICAgIHBvcyA9IG9ialtcInBvc1wiXVtcIm5hbWVcIl07XG4gICAgICAgIGFzc2VydC5lcXVhbChwb3Muc3RhcnQsIDE0LCBcInN0YXJ0IHF1ZXN0aW9uIHByb3BlcnR5IGZvciAnbmFtZSdcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChwb3MudmFsdWVTdGFydCwgMjEsIFwic3RhcnQgcXVlc3Rpb24gcHJvcGVydHkgdmFsdWUgZm9yICduYW1lJ1wiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHBvcy52YWx1ZUVuZCwgMjcsIFwiZW5kIHF1ZXN0aW9uIHByb3BlcnR5IHZhbHVlIGZvciAnbmFtZSdcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChwb3MuZW5kLCAyNywgXCJlbmQgcXVlc3Rpb24gcHJvcGVydHkgZm9yICduYW1lJ1wiKTtcblxuICAgICAgICBwb3MgPSBvYmpbXCJwb3NcIl1bXCJzaXplXCJdO1xuICAgICAgICBhc3NlcnQuZXF1YWwocG9zLnN0YXJ0LCAyOCwgXCJzdGFydCBxdWVzdGlvbiBwcm9wZXJ0eSBmb3IgJ3NpemUnXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocG9zLnZhbHVlU3RhcnQsIDM1LCBcInN0YXJ0IHF1ZXN0aW9uIHByb3BlcnR5IHZhbHVlIGZvciAnc2l6ZSdcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChwb3MudmFsdWVFbmQsIDM3LCBcImVuZCBxdWVzdGlvbiBwcm9wZXJ0eSB2YWx1ZSBmb3IgJ3NpemUnXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocG9zLmVuZCwgMzcsIFwiZW5kIHF1ZXN0aW9uIHByb3BlcnR5IGZvciAnc2l6ZSdcIik7XG5cbiAgICB9KTtcbiAgICBRVW5pdC50ZXN0KFwiRnVsbCBpbmZvcm1hdGlvbiBhYm91dCBwb3NpdGlvbnMgLSBhcnJheVwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBqc29uNSA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5SlNPTjUoMik7XG4gICAgICAgIHZhciBvYmogPSBqc29uNS5wYXJzZShcInsgY2hvaWNlczpbMCwgMV19XCIpO1xuICAgICAgICB2YXIgcG9zID0gb2JqW1wicG9zXCJdW1wiY2hvaWNlc1wiXTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHBvcy5zdGFydCwgMiwgXCJzdGFydCBxdWVzdGlvbiBwcm9wZXJ0eVwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHBvcy52YWx1ZVN0YXJ0LCAxMCwgXCJzdGFydCBxdWVzdGlvbiBwcm9wZXJ0eSB2YWx1ZVwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHBvcy5lbmQsIDE1LCBcImVuZCBxdWVzdGlvbiBwcm9wZXJ0eSBmb3JcIik7XG4gICAgfSk7XG4gICAgUVVuaXQudGVzdChcIkVtcHR5IEpzb24gdGVzdFwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBqc29uNSA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5SlNPTjUoMSk7XG4gICAgICAgIHZhciBvYmogPSBqc29uNS5wYXJzZShcInsgfSAgXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwob2JqW1wicG9zXCJdLnN0YXJ0LCAwLCBcInN0YXJ0ICdwb3MnIHBvc2l0aW9uXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwob2JqW1wicG9zXCJdLmVuZCwgMiwgXCJlbmQgJ3BvcycgcG9zaXRpb25cIik7XG4gICAgfSk7XG4gICAgUVVuaXQudGVzdChcIk9uZSBwcm9wZXJ0eSBKc29uIHRlc3RcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIganNvbjUgPSBuZXcgU3VydmV5RWRpdG9yLlN1cnZleUpTT041KDEpO1xuICAgICAgICB2YXIgb2JqID0ganNvbjUucGFyc2UoXCJ7IHY6MSB9ICBcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChvYmpbXCJwb3NcIl0uc3RhcnQsIDAsIFwic3RhcnQgJ3BvcycgcG9zaXRpb25cIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChvYmpbXCJwb3NcIl0uZW5kLCA2LCBcImVuZCAncG9zJyBwb3NpdGlvblwiKTtcbiAgICB9KTtcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vc3JjL2VkaXRvckxvY2FsaXphdGlvbi50c1wiIC8+XG5tb2R1bGUgU3VydmV5RWRpdG9yVGVzdHMuVGVzdHMge1xuICAgIFFVbml0Lm1vZHVsZShcIkxvY2FsaXphdGlvblRlc3RzXCIpO1xuXG4gICAgUVVuaXQudGVzdChcIkdldCBuZXN0ZWQgcHJvcGVydHlcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICBhc3NlcnQuZXF1YWwoU3VydmV5RWRpdG9yLmVkaXRvckxvY2FsaXphdGlvbi5nZXRTdHJpbmcoXCJxdC50ZXh0XCIpLCBcIlRleHRcIiwgXCJmaW5kIHRoZSBuZXN0ZWQgcHJvcGVydHlcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChTdXJ2ZXlFZGl0b3IuZWRpdG9yTG9jYWxpemF0aW9uLmdldFN0cmluZyhcInF0LnRleHQxXCIpLCBcInRleHQxXCIsIFwidGhlIG5lc3RlZCBwcm9wZXJ0eSBkb2Vzbid0IGV4aXN0XCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoU3VydmV5RWRpdG9yLmVkaXRvckxvY2FsaXphdGlvbi5nZXRTdHJpbmcoXCJxdDEudGV4dFwiKSwgXCJxdDFcIiwgXCJ0aGUgcm9vdCBwcm9wZXJ0eSBkb2Vzbid0IGV4aXN0XCIpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJHZXQgcHJvcGVydHkgbmFtZSBhbmQgdGl0bGVcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICBhc3NlcnQuZXF1YWwoU3VydmV5RWRpdG9yLmVkaXRvckxvY2FsaXphdGlvbi5nZXRQcm9wZXJ0eU5hbWUoXCJ0ZXh0X25hbWVcIiksIFN1cnZleUVkaXRvci5kZWZhdWx0U3RyaW5ncy5wLm5hbWUsIFwiZmluZCB0aGUgTmFtZSBwcm9wZXJ0eVwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKFN1cnZleUVkaXRvci5lZGl0b3JMb2NhbGl6YXRpb24uZ2V0UHJvcGVydHlUaXRsZShcInRleHRfbmFtZVwiKSwgXCJcIiwgXCJ0aGVyZSBpcyBub3QgdGl0bGUgZm9yIGl0XCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoU3VydmV5RWRpdG9yLmVkaXRvckxvY2FsaXphdGlvbi5nZXRQcm9wZXJ0eU5hbWUoXCJ0ZXh0X3RpdGxlXCIpLCBTdXJ2ZXlFZGl0b3IuZGVmYXVsdFN0cmluZ3MucC50aXRsZS5uYW1lLCBcImZpbmQgdGhlIFRpdGxlIHByb3BlcnR5XCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoU3VydmV5RWRpdG9yLmVkaXRvckxvY2FsaXphdGlvbi5nZXRQcm9wZXJ0eVRpdGxlKFwidGV4dF90aXRsZVwiKSwgU3VydmV5RWRpdG9yLmRlZmF1bHRTdHJpbmdzLnAudGl0bGUudGl0bGUsIFwiZmluZCB0aGUgdGl0bGUgZm9yIFRpdGxlIHByb3BlcnR5XCIpO1xuICAgIH0pO1xufTsiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vc3JjL3Byb3BlcnR5RWRpdG9ycy9wcm9wZXJ0eUVkaXRvckJhc2UudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy9wcm9wZXJ0eUVkaXRvcnMvcHJvcGVydHlJdGVtVmFsdWVzRWRpdG9yLnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9zcmMvcHJvcGVydHlFZGl0b3JzL3Byb3BlcnR5TWF0cml4RHJvcGRvd25Db2x1bW5zRWRpdG9yLnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9zcmMvcHJvcGVydHlFZGl0b3JzL3Byb3BlcnR5UmVzdGZ1bGxFZGl0b3IudHNcIiAvPlxubW9kdWxlIFN1cnZleUVkaXRvclRlc3RzLlRlc3RzIHtcbiAgICBRVW5pdC5tb2R1bGUoXCJQcm9wZXJ0eUVkaXRvcnNUZXN0c1wiKTtcblxuICAgIFFVbml0LnRlc3QoXCJDcmVhdGUgY29ycmVjdCBwcm9wZXJ0eSBlZGl0b3JcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgcHJvcGVydHlFZGl0b3IgPSBTdXJ2ZXlFZGl0b3IuU3VydmV5UHJvcGVydHlFZGl0b3JCYXNlLmNyZWF0ZUVkaXRvcihcInVua25vd25cIiwgbnVsbCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChwcm9wZXJ0eUVkaXRvci5lZGl0b3JUeXBlLCBcInN0cmluZ1wiLCBcIlRoZSBkZWZhdWx0IHByb3BlcnR5IGVkaXRvciBpcyAnc3RyaW5nJ1wiKTtcblxuICAgICAgICB2YXIgcHJvcGVydHlUeXBlcyA9IFtcInN0cmluZ1wiLCBcImJvb2xlYW5cIiwgXCJudW1iZXJcIiwgXCJkcm9wZG93blwiLCBcInRleHRcIiwgXCJodG1sXCIsIFwiaXRlbXZhbHVlc1wiLFxuICAgICAgICAgICAgXCJtYXRyaXhkcm9wZG93bmNvbHVtbnNcIiwgXCJ0ZXh0aXRlbXNcIiwgXCJ0cmlnZ2Vyc1wiLCBcInZhbGlkYXRvcnNcIiwgXCJyZXN0ZnVsbFwiXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0eVR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcHJvcFR5cGUgPSBwcm9wZXJ0eVR5cGVzW2ldO1xuICAgICAgICAgICAgcHJvcGVydHlFZGl0b3IgPSBTdXJ2ZXlFZGl0b3IuU3VydmV5UHJvcGVydHlFZGl0b3JCYXNlLmNyZWF0ZUVkaXRvcihwcm9wVHlwZSwgbnVsbCk7XG4gICAgICAgICAgICBhc3NlcnQuZXF1YWwocHJvcGVydHlFZGl0b3IuZWRpdG9yVHlwZSwgcHJvcFR5cGUsIFwiQ3JlYXRlICdcIiArIHByb3BUeXBlICArIFwiJyBwcm9wZXJ0eSBlZGl0b3JcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBRVW5pdC50ZXN0KFwiU3VydmV5UHJvcGVydHlJdGVtVmFsdWVcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgY2hvaWNlcyA9IFt7IHZhbHVlOiAxLCB0ZXh0OiBcIml0ZW0xXCIgfSwgeyB2YWx1ZTogMiwgdGV4dDogXCJpdGVtMlwiIH0sIHsgdmFsdWU6IDMsIHRleHQ6IFwiaXRlbTNcIiB9XTtcbiAgICAgICAgdmFyIGl0ZW1WYWx1ZVByb3BlcnR5ID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlQcm9wZXJ0eUl0ZW1WYWx1ZXNFZGl0b3IoKTtcbiAgICAgICAgaXRlbVZhbHVlUHJvcGVydHkub25DaGFuZ2VkID0gKG5ld1ZhbHVlOiBBcnJheTxTdXJ2ZXkuSXRlbVZhbHVlPikgPT4geyAgY2hvaWNlcyA9IG5ld1ZhbHVlOyB9O1xuICAgICAgICBpdGVtVmFsdWVQcm9wZXJ0eS52YWx1ZSA9IGNob2ljZXM7XG4gICAgICAgIGFzc2VydC5lcXVhbChpdGVtVmFsdWVQcm9wZXJ0eS5rb0l0ZW1zKCkubGVuZ3RoLCAzLCBcInRoZXJlIGFyZSB0aHJlZSBlbGVtZW50c1wiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGl0ZW1WYWx1ZVByb3BlcnR5LmtvSXRlbXMoKVsxXS5rb1ZhbHVlKCksIDIsIFwiY2hlY2sgdmFsdWUgb2YgdGhlIHNlY29uZCBlbGVtZW50XCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoaXRlbVZhbHVlUHJvcGVydHkua29JdGVtcygpWzFdLmtvVGV4dCgpLCBcIml0ZW0yXCIsIFwiY2hlY2sgdGV4dCBvZiB0aGUgc2Vjb25kIGVsZW1lbnRcIik7XG5cbiAgICAgICAgaXRlbVZhbHVlUHJvcGVydHkub25EZWxldGVDbGljayhpdGVtVmFsdWVQcm9wZXJ0eS5rb0l0ZW1zKClbMV0pO1xuICAgICAgICBhc3NlcnQuZXF1YWwoaXRlbVZhbHVlUHJvcGVydHkua29JdGVtcygpLmxlbmd0aCwgMiwgXCJ0aGVyZSBhcmUgdHdvIGVsZW1lbnRzIGFmdGVyIGRlbGV0aW5nXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoaXRlbVZhbHVlUHJvcGVydHkua29JdGVtcygpWzFdLmtvVmFsdWUoKSwgMywgXCJjaGVjayB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnRcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChpdGVtVmFsdWVQcm9wZXJ0eS5rb0l0ZW1zKClbMV0ua29UZXh0KCksIFwiaXRlbTNcIiwgXCJjaGVjayB0ZXh0IG9mIHRoZSBzZWNvbmQgZWxlbWVudFwiKTtcblxuICAgICAgICBpdGVtVmFsdWVQcm9wZXJ0eS5vbkFkZENsaWNrKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChpdGVtVmFsdWVQcm9wZXJ0eS5rb0l0ZW1zKCkubGVuZ3RoLCAzLCBcInRoZXJlIGFyZSB0aHJlZSBlbGVtZW50cyBhZnRlciBhZGRpbmdcIik7XG4gICAgICAgIGl0ZW1WYWx1ZVByb3BlcnR5LmtvSXRlbXMoKVsyXS5rb1ZhbHVlKDQpO1xuICAgICAgICBpdGVtVmFsdWVQcm9wZXJ0eS5rb0l0ZW1zKClbMl0ua29UZXh0KFwiaXRlbTRcIilcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGl0ZW1WYWx1ZVByb3BlcnR5LmtvSXRlbXMoKVsyXS5rb1ZhbHVlKCksIDQsIFwiY2hlY2sgdmFsdWUgb2YgdGhlIGxhc3QgZWxlbWVudFwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGl0ZW1WYWx1ZVByb3BlcnR5LmtvSXRlbXMoKVsyXS5rb1RleHQoKSwgXCJpdGVtNFwiLCBcImNoZWNrIHRleHQgb2YgdGhlIGxhc3QgZWxlbWVudFwiKTtcblxuICAgICAgICBpdGVtVmFsdWVQcm9wZXJ0eS5vbkFwcGx5Q2xpY2soKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGNob2ljZXMubGVuZ3RoLCAzLCBcInRoZXJlIGFyZSB0aHJlZSBlbGVtZW50cyBhZnRlciBhZGRpbmdcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChjaG9pY2VzWzJdLnZhbHVlLCA0LCBcImNoZWNrIHZhbHVlIG9mIHRoZSBsYXN0IGVsZW1lbnRcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChjaG9pY2VzWzJdLnRleHQsIFwiaXRlbTRcIiwgXCJjaGVjayB0ZXh0IG9mIHRoZSBsYXN0IGVsZW1lbnRcIik7XG5cbiAgICAgICAgaXRlbVZhbHVlUHJvcGVydHkub25BZGRDbGljaygpO1xuICAgICAgICBpdGVtVmFsdWVQcm9wZXJ0eS5vbkFkZENsaWNrKCk7XG4gICAgICAgIGl0ZW1WYWx1ZVByb3BlcnR5Lm9uUmVzZXRDbGljaygpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoaXRlbVZhbHVlUHJvcGVydHkua29JdGVtcygpLmxlbmd0aCwgMywgXCJ0aGVyZSBhcmUgdGhyZWUgZWxlbWVudHNcIik7XG4gICAgfSk7XG4gICAgUVVuaXQudGVzdChcIlN1cnZleVByb3BlcnR5SXRlbVZhbHVlOiBWYWx1ZSBhbmQgVGV4dCBhcmUgc2FtZVwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBjaG9pY2VzID0gW3sgdmFsdWU6IDEsIHRleHQ6IFwiMVwiIH0sIHsgdmFsdWU6IFwiaXRlbSAyXCIsIHRleHQ6IFwiaXRlbSAyXCIgfV07XG4gICAgICAgIHZhciBpdGVtVmFsdWVQcm9wZXJ0eSA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5UHJvcGVydHlJdGVtVmFsdWVzRWRpdG9yKCk7XG4gICAgICAgIGl0ZW1WYWx1ZVByb3BlcnR5Lm9uQ2hhbmdlZCA9IChuZXdWYWx1ZTogQXJyYXk8U3VydmV5Lkl0ZW1WYWx1ZT4pID0+IHsgY2hvaWNlcyA9IG5ld1ZhbHVlOyB9O1xuICAgICAgICBpdGVtVmFsdWVQcm9wZXJ0eS52YWx1ZSA9IGNob2ljZXM7XG4gICAgICAgIGFzc2VydC5lcXVhbChpdGVtVmFsdWVQcm9wZXJ0eS5rb0l0ZW1zKCkubGVuZ3RoLCAyLCBcInRoZXJlIGFyZSB0aHJlZSBlbGVtZW50c1wiKTtcbiAgICAgICAgaXRlbVZhbHVlUHJvcGVydHkub25BcHBseUNsaWNrKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChjaG9pY2VzLmxlbmd0aCwgMiwgXCJ0aGVyZSBhcmUgdHdvIGl0ZW1zXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoY2hvaWNlc1swXS52YWx1ZSwgMSwgXCJ0aGUgZmlyc3QgdmFsdWUgaXMgMVwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGNob2ljZXNbMF0udGV4dCwgbnVsbCwgXCJ0aGUgZmlyc3QgdGV4dCBpcyBudWxsXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoY2hvaWNlc1sxXS52YWx1ZSwgXCJpdGVtIDJcIiwgXCJ0aGUgc2Vjb25kIHZhbHVlIGlzICdpdGVtIDInXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoY2hvaWNlc1sxXS50ZXh0LCBudWxsLCBcInRoZSBzZWNvbmQgdGV4dCBpcyBudWxsXCIpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJTdXJ2ZXlQcm9wZXJ0eUl0ZW1WYWx1ZTogVmFsdWUgYW5kIFRleHQgYXJlIHNhbWUgYW5kIGVkaXRvci5hbHdheVNhdmVUZXh0SW5Qcm9wZXJ0eUVkaXRvcnMgPSB0cnVlXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcbiAgICAgICAgdmFyIGNob2ljZXMgPSBbeyB2YWx1ZTogMSwgdGV4dDogXCIxXCIgfSwgeyB2YWx1ZTogXCJpdGVtIDJcIiwgdGV4dDogXCJpdGVtIDJcIiB9XTtcbiAgICAgICAgdmFyIGl0ZW1WYWx1ZVByb3BlcnR5ID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlQcm9wZXJ0eUl0ZW1WYWx1ZXNFZGl0b3IoKTtcbiAgICAgICAgaXRlbVZhbHVlUHJvcGVydHkub25DaGFuZ2VkID0gKG5ld1ZhbHVlOiBBcnJheTxTdXJ2ZXkuSXRlbVZhbHVlPikgPT4geyBjaG9pY2VzID0gbmV3VmFsdWU7IH07XG4gICAgICAgIGl0ZW1WYWx1ZVByb3BlcnR5LnZhbHVlID0gY2hvaWNlcztcbiAgICAgICAgaXRlbVZhbHVlUHJvcGVydHkub3B0aW9ucyA9IHsgYWx3YXlTYXZlVGV4dEluUHJvcGVydHlFZGl0b3JzOiB0cnVlIH07XG4gICAgICAgIGFzc2VydC5lcXVhbChpdGVtVmFsdWVQcm9wZXJ0eS5rb0l0ZW1zKCkubGVuZ3RoLCAyLCBcInRoZXJlIGFyZSB0aHJlZSBlbGVtZW50c1wiKTtcbiAgICAgICAgaXRlbVZhbHVlUHJvcGVydHkub25BcHBseUNsaWNrKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChjaG9pY2VzLmxlbmd0aCwgMiwgXCJ0aGVyZSBhcmUgdHdvIGl0ZW1zXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoY2hvaWNlc1swXS52YWx1ZSwgMSwgXCJ0aGUgZmlyc3QgdmFsdWUgaXMgMVwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGNob2ljZXNbMF0udGV4dCwgXCIxXCIsIFwidGhlIGZpcnN0IHRleHQgaXMgJzEnXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoY2hvaWNlc1sxXS52YWx1ZSwgXCJpdGVtIDJcIiwgXCJ0aGUgc2Vjb25kIHZhbHVlIGlzICdpdGVtIDInXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoY2hvaWNlc1sxXS50ZXh0LCBcIml0ZW0gMlwiLCBcInRoZSBzZWNvbmQgdGV4dCBpcyAnaXRlbSAyJ1wiKTtcbiAgICB9KTtcblxuICAgIFFVbml0LnRlc3QoXCJTdXJ2ZXlQcm9wZXJ0eUl0ZW1WYWx1ZV9QdXJlVmFsdWVcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgY2hvaWNlcyA9IFsxLCBcIml0ZW0yXCIsIHsgdmFsdWU6IDMsIHRleHQ6IFwiaXRlbTNcIiB9XTtcbiAgICAgICAgdmFyIGl0ZW1WYWx1ZVByb3BlcnR5ID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlQcm9wZXJ0eUl0ZW1WYWx1ZXNFZGl0b3IoKTtcbiAgICAgICAgaXRlbVZhbHVlUHJvcGVydHkub25DaGFuZ2VkID0gKG5ld1ZhbHVlOiBBcnJheTxTdXJ2ZXkuSXRlbVZhbHVlPikgPT4geyBjaG9pY2VzID0gbmV3VmFsdWU7IH07XG4gICAgICAgIGl0ZW1WYWx1ZVByb3BlcnR5LnZhbHVlID0gY2hvaWNlcztcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGl0ZW1WYWx1ZVByb3BlcnR5LmtvSXRlbXMoKS5sZW5ndGgsIDMsIFwidGhlcmUgYXJlIHRocmVlIGVsZW1lbnRzXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoaXRlbVZhbHVlUHJvcGVydHkua29JdGVtcygpWzBdLmtvVmFsdWUoKSwgMSwgXCJjaGVjayB2YWx1ZSBvZiB0aGUgZmlyc3QgZWxlbWVudFwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGl0ZW1WYWx1ZVByb3BlcnR5LmtvSXRlbXMoKVsxXS5rb1ZhbHVlKCksIFwiaXRlbTJcIiwgXCJjaGVjayB2YWx1ZSBvZiB0aGUgc2Vjb25kIGVsZW1lbnRcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChpdGVtVmFsdWVQcm9wZXJ0eS5rb0l0ZW1zKClbMl0ua29WYWx1ZSgpLCAzLCBcImNoZWNrIHZhbHVlIG9mIHRoZSB0aGlyZCBlbGVtZW50XCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoaXRlbVZhbHVlUHJvcGVydHkua29JdGVtcygpWzJdLmtvVGV4dCgpLCBcIml0ZW0zXCIsIFwiY2hlY2sgdGV4dCBvZiB0aGUgdGhpcmQgZWxlbWVudFwiKTtcbiAgICB9KTtcbiAgICBRVW5pdC50ZXN0KFwiU3VydmV5UHJvcGVydHlNYXRyaXhEcm9wZG93bkNvbHVtbnMgc2V0IHByb3BlcnRpZXNcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgY29sdW1uczogQXJyYXk8U3VydmV5Lk1hdHJpeERyb3Bkb3duQ29sdW1uPiA9IFtdO1xuICAgICAgICBjb2x1bW5zLnB1c2gobmV3IFN1cnZleS5NYXRyaXhEcm9wZG93bkNvbHVtbihcImNvbHVtbiAxXCIpKTtcbiAgICAgICAgY29sdW1ucy5wdXNoKG5ldyBTdXJ2ZXkuTWF0cml4RHJvcGRvd25Db2x1bW4oXCJjb2x1bW4gMlwiKSk7XG4gICAgICAgIGNvbHVtbnNbMF0uY2hvaWNlcyA9IFsxLCAyLCBcInRocmVlXCJdO1xuICAgICAgICB2YXIgaXRlbVZhbHVlUHJvcGVydHkgPSBuZXcgU3VydmV5RWRpdG9yLlN1cnZleVByb3BlcnR5RHJvcGRvd25Db2x1bW5zRWRpdG9yKCk7XG4gICAgICAgIGl0ZW1WYWx1ZVByb3BlcnR5Lm9uQ2hhbmdlZCA9IChuZXdWYWx1ZTogQXJyYXk8U3VydmV5Lk1hdHJpeERyb3Bkb3duQ29sdW1uPikgPT4geyBjb2x1bW5zID0gbmV3VmFsdWU7IH07XG4gICAgICAgIGl0ZW1WYWx1ZVByb3BlcnR5LnZhbHVlID0gY29sdW1ucztcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGl0ZW1WYWx1ZVByb3BlcnR5LmtvSXRlbXMoKS5sZW5ndGgsIDIsIFwidGhlcmUgYXJlIHR3byBlbGVtZW50c1wiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGl0ZW1WYWx1ZVByb3BlcnR5LmtvSXRlbXMoKVswXS5rb05hbWUoKSwgXCJjb2x1bW4gMVwiLCBcInRoZSBmaXJzdCBjb2x1bW4gbmFtZVwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGl0ZW1WYWx1ZVByb3BlcnR5LmtvSXRlbXMoKVswXS5rb0Nob2ljZXMoKS5sZW5ndGgsIDMsIFwidGhlcmUgYXJlIHR3byBlbGVtZW50c1wiKTtcbiAgICAgICAgaXRlbVZhbHVlUHJvcGVydHkub25BZGRDbGljaygpO1xuICAgICAgICBpdGVtVmFsdWVQcm9wZXJ0eS5rb0l0ZW1zKClbMl0ua29DZWxsVHlwZShcImNoZWNrYm94XCIpO1xuICAgICAgICBpdGVtVmFsdWVQcm9wZXJ0eS5rb0l0ZW1zKClbMl0ua29OYW1lKFwiY29sdW1uIDNcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChpdGVtVmFsdWVQcm9wZXJ0eS5rb0l0ZW1zKCkubGVuZ3RoLCAzLCBcIlRoZXJlIGFyZSAzIGNvbHVtbnMgdW4gZWRpdG9yXCIpO1xuICAgICAgICBpdGVtVmFsdWVQcm9wZXJ0eS5vbkFwcGx5Q2xpY2soKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGNvbHVtbnMubGVuZ3RoLCAzLCBcIlRoZXJlIGFyZSAzIGNvbHVtbnNcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChjb2x1bW5zWzJdW1wiY2VsbFR5cGVcIl0sIFwiY2hlY2tib3hcIiwgXCJ0aGUgbGFzdCBjb2x1bW4gaGFzIGNoZWNrYm94IGNlbGxzXCIpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJUZXh0IHByb3BlcnR5IHRlc3QgLSB0d28gd2F5IGJpbmRpbmdcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgcHJvcGVydHkgPSBuZXcgU3VydmV5Lkpzb25PYmplY3RQcm9wZXJ0eShcInRleHRcIik7XG4gICAgICAgIHByb3BlcnR5LnR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgdmFyIHByb3BlcnR5RWRpdG9yID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlPYmplY3RQcm9wZXJ0eShwcm9wZXJ0eSk7XG4gICAgICAgIHZhciBlZGl0b3IgPSA8U3VydmV5RWRpdG9yLlN1cnZleVByb3BlcnR5VGV4dEVkaXRvcj4ocHJvcGVydHlFZGl0b3IuZWRpdG9yKTtcbiAgICAgICAgZWRpdG9yLmtvVmFsdWUoXCIxXCIpO1xuICAgICAgICBlZGl0b3Iub25BcHBseUNsaWNrKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChwcm9wZXJ0eUVkaXRvci5rb1ZhbHVlKCksIFwiMVwiLCBcInRoZSB2YWx1ZSBpcyBzZXQgY29ycmVjdGx5IGZyb20gdGhlIGVkaXRvclwiKTtcbiAgICAgICAgcHJvcGVydHlFZGl0b3Iua29WYWx1ZShcIjJcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3Iua29WYWx1ZSgpLCBcIjJcIiwgXCJ0aGUgdmFsdWUgaXMgc2V0IGNvcnJlY3RseSBmcm9tIHRleHQgaW5wdXRcIik7XG4gICAgfSk7XG4gICAgUVVuaXQudGVzdChcIlN1cnZleVByb3BlcnR5UmVzdWx0ZnVsbEVkaXRvciB0ZXN0XCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcbiAgICAgICAgdmFyIGVkaXRvciA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5UHJvcGVydHlSZXN1bHRmdWxsRWRpdG9yKCk7XG4gICAgICAgIGVkaXRvci52YWx1ZSA9IG5ldyBTdXJ2ZXkuQ2hvaWNlc1Jlc3RmdWxsKCk7XG4gICAgICAgIGVkaXRvci5rb1BhdGgoXCJwYXRoMVwiKTtcbiAgICAgICAgZWRpdG9yLmtvVmFsdWVOYW1lKFwibmFtZTJcIik7XG4gICAgICAgIGVkaXRvci5rb1RpdGxlTmFtZShcInRpdGxlM1wiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGVkaXRvci5xdWVzdGlvbi5jaG9pY2VzQnlVcmwucGF0aCwgXCJwYXRoMVwiLCBcInRlc3QgcGF0aCBpcyBzZXRcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3IucXVlc3Rpb24uY2hvaWNlc0J5VXJsLnZhbHVlTmFtZSwgXCJuYW1lMlwiLCBcInRlc3QgbmFtZSBpcyBzZXRcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3IucXVlc3Rpb24uY2hvaWNlc0J5VXJsLnRpdGxlTmFtZSwgXCJ0aXRsZTNcIiwgXCJ0ZXN0IHRpdGxlIGlzIHNldFwiKTtcbiAgICB9KTtcbiAgICBcbn07IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy9zdXJ2ZXlPYmplY3RzLnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9zcmMvb2JqZWN0VmVyYnMudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy9wcm9wZXJ0eUVkaXRvcnMvcHJvcGVydHlUcmlnZ2Vyc0VkaXRvci50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vc3JjL3Byb3BlcnR5RWRpdG9ycy9wcm9wZXJ0eVZhbGlkYXRvcnNFZGl0b3IudHNcIiAvPlxubW9kdWxlIFN1cnZleU9iamVjdEVkaXRvclRlc3RzLlRlc3RzIHtcbiAgICBRVW5pdC5tb2R1bGUoXCJzdXJ2ZXlPYmplY3RzXCIpO1xuXG4gICAgUVVuaXQudGVzdChcIkluaXRpYWwgb2JqZWN0cyBidWlsZGluZ1wiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBpbnRlbmQgPSBTdXJ2ZXlFZGl0b3IuU3VydmV5T2JqZWN0cy5pbnRlbmQ7XG4gICAgICAgIHZhciBzdXJ2ZXkgPSBjcmVhdGVTdXJ2ZXkoKTtcbiAgICAgICAgdmFyIG9iamVjdHMgPSBuZXcgU3VydmV5RWRpdG9yLlN1cnZleU9iamVjdHMoa28ub2JzZXJ2YWJsZUFycmF5KCksIGtvLm9ic2VydmFibGUoKSk7XG4gICAgICAgIG9iamVjdHMuc3VydmV5ID0gc3VydmV5O1xuICAgICAgICBhc3NlcnQuZXF1YWwob2JqZWN0cy5rb09iamVjdHMoKS5sZW5ndGgsIDEgKyAzICsgMiArIDEgKyAyLCBcInN1cnZleSArIDMgcGFnZXMgKyA1IHF1ZXN0aW9ucy5cIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChvYmplY3RzLmtvU2VsZWN0ZWQoKSwgc3VydmV5LCBcIlRoZSBzZWxlY3RlZCBvYmplY3QgaXMgc3VydmV5LlwiKTtcblxuICAgICAgICBhc3NlcnQuZXF1YWwob2JqZWN0cy5rb09iamVjdHMoKVswXS50ZXh0KCksIFwiU3VydmV5XCIsIFwiVGhlIGZpcnN0IGl0ZW0gaXMgU3VydmV5XCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwob2JqZWN0cy5rb09iamVjdHMoKVs0XS50ZXh0KCksIGludGVuZCArIFwicGFnZTJcIiwgXCJUaGUgc2Vjb25kIHBhZ2VcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChvYmplY3RzLmtvT2JqZWN0cygpWzVdLnRleHQoKSwgaW50ZW5kICsgaW50ZW5kICsgXCJxdWVzdGlvbjNcIiwgXCJUaGUgdGhpcmQgcXVlc3Rpb25cIik7XG4gICAgfSk7XG4gICAgUVVuaXQudGVzdChcIk5vIG5hbWUgcGFnZXNcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgaW50ZW5kID0gU3VydmV5RWRpdG9yLlN1cnZleU9iamVjdHMuaW50ZW5kO1xuICAgICAgICB2YXIgc3VydmV5ID0gY3JlYXRlU3VydmV5KCk7XG4gICAgICAgIHN1cnZleS5wYWdlc1swXS5uYW1lID0gXCJcIjtcbiAgICAgICAgc3VydmV5LnBhZ2VzWzFdLm5hbWUgPSBcIlwiO1xuICAgICAgICB2YXIgb2JqZWN0cyA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5T2JqZWN0cyhrby5vYnNlcnZhYmxlQXJyYXkoKSwga28ub2JzZXJ2YWJsZSgpKTtcbiAgICAgICAgb2JqZWN0cy5zdXJ2ZXkgPSBzdXJ2ZXk7XG4gICAgICAgIGFzc2VydC5lcXVhbChvYmplY3RzLmtvT2JqZWN0cygpWzFdLnRleHQoKSwgaW50ZW5kICsgXCJbUGFnZSAxXVwiLCBcIlRoZSBmaXJzdCBpdGVtIGlzIFN1cnZleVwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKG9iamVjdHMua29PYmplY3RzKClbNF0udGV4dCgpLCBpbnRlbmQgKyBcIltQYWdlIDJdXCIsIFwiVGhlIHNlY29uZCBwYWdlXCIpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJzZWxlY3RPYmplY3QgbWV0aG9kXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcbiAgICAgICAgdmFyIHN1cnZleSA9IGNyZWF0ZVN1cnZleSgpO1xuICAgICAgICB2YXIgb2JqZWN0cyA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5T2JqZWN0cyhrby5vYnNlcnZhYmxlQXJyYXkoKSwga28ub2JzZXJ2YWJsZSgpKTtcbiAgICAgICAgb2JqZWN0cy5zdXJ2ZXkgPSBzdXJ2ZXk7XG4gICAgICAgIG9iamVjdHMuc2VsZWN0T2JqZWN0KHN1cnZleS5wYWdlc1sxXSk7XG4gICAgICAgIGFzc2VydC5lcXVhbChvYmplY3RzLmtvU2VsZWN0ZWQoKS52YWx1ZSwgc3VydmV5LnBhZ2VzWzFdLCBcInRoZSBzZWNvbmQgcGFnZSBpcyBzZWxlY3RlZFwiKTtcbiAgICAgICAgb2JqZWN0cy5zZWxlY3RPYmplY3Qoc3VydmV5LnBhZ2VzWzFdLnF1ZXN0aW9uc1swXSk7XG4gICAgICAgIGFzc2VydC5lcXVhbChvYmplY3RzLmtvU2VsZWN0ZWQoKS52YWx1ZSwgc3VydmV5LnBhZ2VzWzFdLnF1ZXN0aW9uc1swXSwgXCJ0aGUgdGhpcmQgcXVlc3Rpb24gaXMgc2VsZWN0ZWRcIik7XG4gICAgICAgIG9iamVjdHMuc2VsZWN0T2JqZWN0KHN1cnZleSk7XG4gICAgICAgIGFzc2VydC5lcXVhbChvYmplY3RzLmtvU2VsZWN0ZWQoKS52YWx1ZSwgc3VydmV5LCBcInN1cnZleSBpcyBzZWxlY3RlZFwiKTtcbiAgICB9KTtcbiAgICBRVW5pdC50ZXN0KFwiYWRkUGFnZSBtZXRob2RcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgc3VydmV5ID0gY3JlYXRlU3VydmV5KCk7XG4gICAgICAgIHZhciBvYmplY3RzID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlPYmplY3RzKGtvLm9ic2VydmFibGVBcnJheSgpLCBrby5vYnNlcnZhYmxlKCkpO1xuICAgICAgICBvYmplY3RzLnN1cnZleSA9IHN1cnZleTtcbiAgICAgICAgdmFyIHBhZ2UgPSA8U3VydmV5LlBhZ2U+c3VydmV5LmFkZE5ld1BhZ2UoXCJuZXdQYWdlXCIpO1xuICAgICAgICBvYmplY3RzLmFkZFBhZ2UocGFnZSk7XG4gICAgICAgIGFzc2VydC5lcXVhbChvYmplY3RzLmtvT2JqZWN0cygpW29iamVjdHMua29PYmplY3RzKCkubGVuZ3RoIC0gMV0udmFsdWUsIHBhZ2UsIFwibmV3IG9iamVjdCBpcyBhZGRlZFwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKG9iamVjdHMua29TZWxlY3RlZCgpLnZhbHVlLCBwYWdlLCBcIm5ldyBwYWdlIGlzIHNlbGVjdGVkXCIpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJhZGRQYWdlIG1ldGhvZCAtIGluc2VydFwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBzdXJ2ZXkgPSBjcmVhdGVTdXJ2ZXkoKTtcbiAgICAgICAgdmFyIG9iamVjdHMgPSBuZXcgU3VydmV5RWRpdG9yLlN1cnZleU9iamVjdHMoa28ub2JzZXJ2YWJsZUFycmF5KCksIGtvLm9ic2VydmFibGUoKSk7XG4gICAgICAgIG9iamVjdHMuc3VydmV5ID0gc3VydmV5O1xuICAgICAgICB2YXIgcGFnZSA9IDxTdXJ2ZXkuUGFnZT5zdXJ2ZXkucGFnZXNbMl07XG4gICAgICAgIHN1cnZleS5wYWdlcy5zcGxpY2UoMiwgMSk7XG4gICAgICAgIG9iamVjdHMucmVtb3ZlT2JqZWN0KHBhZ2UpO1xuICAgICAgICBzdXJ2ZXkucGFnZXMuc3BsaWNlKDEsIDAsIHBhZ2UpO1xuICAgICAgICBvYmplY3RzLmFkZFBhZ2UocGFnZSk7XG4gICAgICAgIHZhciBwYWdlSW5kZXggPSBzdXJ2ZXkucGFnZXNbMF0ucXVlc3Rpb25zLmxlbmd0aCArIDEgKyAxO1xuICAgICAgICBhc3NlcnQuZXF1YWwob2JqZWN0cy5rb09iamVjdHMoKVtwYWdlSW5kZXhdLnZhbHVlLCBwYWdlLCBcInRoZSBwYWdlIGlzIGluc2VydGVkIGNvcnJlY3RseVwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKG9iamVjdHMua29PYmplY3RzKClbcGFnZUluZGV4ICsgMV0udmFsdWUsIHBhZ2UucXVlc3Rpb25zWzBdLCBcInRoZSBmaXJzdCBxdWVzdGlvbiBpcyBpbnNlcnRlZCBjb3JyZWN0bHlcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChvYmplY3RzLmtvT2JqZWN0cygpW3BhZ2VJbmRleCArIDJdLnZhbHVlLCBwYWdlLnF1ZXN0aW9uc1sxXSwgXCJ0aGUgc2Vjb25kIHF1ZXN0aW9uIGlzIGluc2VydGVkIGNvcnJlY3RseVwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKG9iamVjdHMua29PYmplY3RzKClbcGFnZUluZGV4ICsgM10udmFsdWUsIHN1cnZleS5wYWdlc1syXSwgXCJ0aGUgbGFzdCBwYWdlIGhhcyB0aGUgY29ycmVjdCBpbmRleFwiKTtcbiAgICB9KTtcblxuICAgIFFVbml0LnRlc3QoXCJhZGRRdWVzdGlvbiBtZXRob2RcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgc3VydmV5ID0gY3JlYXRlU3VydmV5KCk7XG4gICAgICAgIHZhciBvYmplY3RzID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlPYmplY3RzKGtvLm9ic2VydmFibGVBcnJheSgpLCBrby5vYnNlcnZhYmxlKCkpO1xuICAgICAgICBvYmplY3RzLnN1cnZleSA9IHN1cnZleTtcbiAgICAgICAgdmFyIHBhZ2UgPSA8U3VydmV5LlBhZ2U+c3VydmV5LnBhZ2VzW3N1cnZleS5wYWdlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIHF1ZXN0aW9uID0gcGFnZS5hZGROZXdRdWVzdGlvbihcInRleHRcIiwgXCJuZXdRdWVzdGlvblwiKTtcbiAgICAgICAgb2JqZWN0cy5hZGRRdWVzdGlvbihwYWdlLCBxdWVzdGlvbik7XG4gICAgICAgIGFzc2VydC5lcXVhbChvYmplY3RzLmtvT2JqZWN0cygpW29iamVjdHMua29PYmplY3RzKCkubGVuZ3RoIC0gMV0udmFsdWUsIHF1ZXN0aW9uLCBcIm5ldyBvYmplY3QgaXMgYWRkZWRcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChvYmplY3RzLmtvU2VsZWN0ZWQoKS52YWx1ZSwgcXVlc3Rpb24sIFwibmV3IHF1ZXN0aW9uIGlzIHNlbGVjdGVkXCIpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJhZGRRdWVzdGlvbiB0byB0aGUgZmlyc3QgcGFnZVwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBzdXJ2ZXkgPSBjcmVhdGVTdXJ2ZXkoKTtcbiAgICAgICAgdmFyIG9iamVjdHMgPSBuZXcgU3VydmV5RWRpdG9yLlN1cnZleU9iamVjdHMoa28ub2JzZXJ2YWJsZUFycmF5KCksIGtvLm9ic2VydmFibGUoKSk7XG4gICAgICAgIG9iamVjdHMuc3VydmV5ID0gc3VydmV5O1xuICAgICAgICB2YXIgcGFnZSA9IDxTdXJ2ZXkuUGFnZT5zdXJ2ZXkucGFnZXNbMF07XG4gICAgICAgIHZhciBxdWVzdGlvbiA9IHBhZ2UuYWRkTmV3UXVlc3Rpb24oXCJ0ZXh0XCIsIFwibmV3UXVlc3Rpb25cIik7XG4gICAgICAgIG9iamVjdHMuYWRkUXVlc3Rpb24ocGFnZSwgcXVlc3Rpb24pO1xuICAgICAgICBhc3NlcnQuZXF1YWwob2JqZWN0cy5rb09iamVjdHMoKVsxICsgcGFnZS5xdWVzdGlvbnMubGVuZ3RoXS52YWx1ZSwgcXVlc3Rpb24sIFwibmV3IG9iamVjdCBpcyBhZGRlZFwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKG9iamVjdHMua29TZWxlY3RlZCgpLnZhbHVlLCBxdWVzdGlvbiwgXCJuZXcgcXVlc3Rpb24gaXMgc2VsZWN0ZWRcIik7XG4gICAgfSk7XG4gICAgUVVuaXQudGVzdChcInJlbW92ZU9iamVjdCBtZXRob2QgLSByZW1vdmUgUXVlc3Rpb25cIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgc3VydmV5ID0gY3JlYXRlU3VydmV5KCk7XG4gICAgICAgIHZhciBvYmplY3RzID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlPYmplY3RzKGtvLm9ic2VydmFibGVBcnJheSgpLCBrby5vYnNlcnZhYmxlKCkpO1xuICAgICAgICBvYmplY3RzLnN1cnZleSA9IHN1cnZleTtcbiAgICAgICAgdmFyIGVsZW1lbnRzQ291bnQgPSBvYmplY3RzLmtvT2JqZWN0cygpLmxlbmd0aDtcbiAgICAgICAgb2JqZWN0cy5yZW1vdmVPYmplY3Qoc3VydmV5LnBhZ2VzWzFdLnF1ZXN0aW9uc1swXSk7XG4gICAgICAgIGFzc2VydC5lcXVhbChvYmplY3RzLmtvT2JqZWN0cygpLmxlbmd0aCwgZWxlbWVudHNDb3VudCAtIDEsIFwib25lIGVsZW1lbnQgaXMgcmVtb3ZlZFwiKTtcbiAgICB9KTtcbiAgICBRVW5pdC50ZXN0KFwicmVtb3ZlT2JqZWN0IG1ldGhvZCAtIHJlbW92ZSBQYWdlXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcbiAgICAgICAgdmFyIHN1cnZleSA9IGNyZWF0ZVN1cnZleSgpO1xuICAgICAgICB2YXIgb2JqZWN0cyA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5T2JqZWN0cyhrby5vYnNlcnZhYmxlQXJyYXkoKSwga28ub2JzZXJ2YWJsZSgpKTtcbiAgICAgICAgb2JqZWN0cy5zdXJ2ZXkgPSBzdXJ2ZXk7XG4gICAgICAgIHZhciBlbGVtZW50c0NvdW50ID0gb2JqZWN0cy5rb09iamVjdHMoKS5sZW5ndGg7XG4gICAgICAgIG9iamVjdHMucmVtb3ZlT2JqZWN0KHN1cnZleS5wYWdlc1swXSk7XG4gICAgICAgIGFzc2VydC5lcXVhbChvYmplY3RzLmtvT2JqZWN0cygpLmxlbmd0aCwgZWxlbWVudHNDb3VudCAtIDEgLSAyLCBcInBhZ2UgYW5kIHR3byBpdCdzIHF1ZXN0aW9ucyBhcmUgcmVtb3ZlZFwiKTtcbiAgICB9KTtcbiAgICBRVW5pdC50ZXN0KFwic2VsZWN0TmV4dFF1ZXN0aW9uIG1ldGhvZFwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBzdXJ2ZXkgPSBjcmVhdGVTdXJ2ZXkoKTtcbiAgICAgICAgdmFyIG9iamVjdHMgPSBuZXcgU3VydmV5RWRpdG9yLlN1cnZleU9iamVjdHMoa28ub2JzZXJ2YWJsZUFycmF5KCksIGtvLm9ic2VydmFibGUoKSk7XG4gICAgICAgIG9iamVjdHMuc3VydmV5ID0gc3VydmV5O1xuICAgICAgICBvYmplY3RzLnNlbGVjdE9iamVjdChzdXJ2ZXkucGFnZXNbMF0ucXVlc3Rpb25zWzBdKTtcbiAgICAgICAgb2JqZWN0cy5zZWxlY3ROZXh0UXVlc3Rpb24oZmFsc2UpO1xuICAgICAgICBhc3NlcnQuZXF1YWwob2JqZWN0cy5rb1NlbGVjdGVkKCkudmFsdWUsIHN1cnZleS5wYWdlc1swXS5xdWVzdGlvbnNbMV0pO1xuXG4gICAgICAgIG9iamVjdHMuc2VsZWN0TmV4dFF1ZXN0aW9uKHRydWUpO1xuICAgICAgICBhc3NlcnQuZXF1YWwob2JqZWN0cy5rb1NlbGVjdGVkKCkudmFsdWUsIHN1cnZleS5wYWdlc1swXS5xdWVzdGlvbnNbMF0pO1xuXG4gICAgICAgIG9iamVjdHMuc2VsZWN0TmV4dFF1ZXN0aW9uKHRydWUpO1xuICAgICAgICBhc3NlcnQuZXF1YWwob2JqZWN0cy5rb1NlbGVjdGVkKCkudmFsdWUsIHN1cnZleS5wYWdlc1swXS5xdWVzdGlvbnNbc3VydmV5LnBhZ2VzWzBdLnF1ZXN0aW9ucy5sZW5ndGggLSAxXSk7XG5cbiAgICAgICAgb2JqZWN0cy5zZWxlY3ROZXh0UXVlc3Rpb24oZmFsc2UpO1xuICAgICAgICBhc3NlcnQuZXF1YWwob2JqZWN0cy5rb1NlbGVjdGVkKCkudmFsdWUsIHN1cnZleS5wYWdlc1swXS5xdWVzdGlvbnNbMF0pO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJvYmplY3QgY2hhbmdlZCBuYW1lXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcbiAgICAgICAgdmFyIHN1cnZleSA9IGNyZWF0ZVN1cnZleSgpO1xuICAgICAgICB2YXIgb2JqZWN0cyA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5T2JqZWN0cyhrby5vYnNlcnZhYmxlQXJyYXkoKSwga28ub2JzZXJ2YWJsZSgpKTtcbiAgICAgICAgb2JqZWN0cy5zdXJ2ZXkgPSBzdXJ2ZXk7XG4gICAgICAgIHN1cnZleS5wYWdlc1swXS5uYW1lID0gXCJuZXduYW1lXCI7XG4gICAgICAgIG9iamVjdHMubmFtZUNoYW5nZWQoc3VydmV5LnBhZ2VzWzBdKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKG9iamVjdHMua29PYmplY3RzKClbMV0udGV4dCgpLCBTdXJ2ZXlFZGl0b3IuU3VydmV5T2JqZWN0cy5pbnRlbmQgKyBcIm5ld25hbWVcIiwgXCJuZXcgbmFtZSBzaG91bGQgYmUgJ25ld25hbWUnXCIpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJUcmlnZ2VycyBwcm9wZXJ0eSBlZGl0b3JcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgc3VydmV5ID0gY3JlYXRlU3VydmV5KCk7XG4gICAgICAgIHZhciB0cmlnZ2VyID0gbmV3IFN1cnZleS5TdXJ2ZXlUcmlnZ2VyVmlzaWJsZSgpO1xuICAgICAgICB0cmlnZ2VyLm5hbWUgPSBcInF1ZXN0aW9uMVwiO1xuICAgICAgICB0cmlnZ2VyLnZhbHVlID0gXCJ2YWwxXCI7XG4gICAgICAgIHRyaWdnZXIub3BlcmF0b3IgPSBcIm5vdGVxdWFsXCI7XG4gICAgICAgIHRyaWdnZXIucXVlc3Rpb25zLnB1c2goXCJxdWVzdGlvbjJcIik7XG4gICAgICAgIHN1cnZleS50cmlnZ2Vycy5wdXNoKHRyaWdnZXIpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIHZhciBwcm9wRWRpdG9yID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlQcm9wZXJ0eVRyaWdnZXJzRWRpdG9yKCk7XG4gICAgICAgIHByb3BFZGl0b3Iub25DaGFuZ2VkID0gKG5ld1ZhbHVlOiBhbnkpID0+IHsgcmVzdWx0ID0gbmV3VmFsdWUgfTtcbiAgICAgICAgcHJvcEVkaXRvci5vYmplY3QgPSBzdXJ2ZXk7XG4gICAgICAgIHByb3BFZGl0b3IudmFsdWUgPSBzdXJ2ZXkudHJpZ2dlcnM7XG4gICAgICAgIGFzc2VydC5lcXVhbChwcm9wRWRpdG9yLmtvSXRlbXMoKS5sZW5ndGgsIDEsIFwiVGhlcmUgYXJlIG9uZSB0cmlnZ2VyIGluaXRpYWxseVwiKTtcbiAgICAgICAgdmFyIGtvVHJpZ2dlciA9IDxTdXJ2ZXlFZGl0b3IuU3VydmV5UHJvcGVydHlWaXNpYmxlVHJpZ2dlcj5wcm9wRWRpdG9yLmtvU2VsZWN0ZWQoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGtvVHJpZ2dlci5rb05hbWUoKSwgXCJxdWVzdGlvbjFcIiwgXCJOYW1lIHNldCBjb3JyZWN0bHlcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChrb1RyaWdnZXIua29PcGVyYXRvcigpLCBcIm5vdGVxdWFsXCIsIFwib3BlcmF0b3Igc2V0IGNvcnJlY3RseVwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGtvVHJpZ2dlci5rb1ZhbHVlKCksIFwidmFsMVwiLCBcInZhbHVlIHNldCBjb3JyZWN0bHlcIik7XG4gICAgICAgIGFzc2VydC5kZWVwRXF1YWwoa29UcmlnZ2VyLnF1ZXN0aW9ucy5rb0Nob29zZW4oKSwgW1wicXVlc3Rpb24yXCJdLCBcInF1ZXN0aW9ucyBzZXQgY29ycmVjdGx5XCIpO1xuXG4gICAgICAgIHByb3BFZGl0b3Iub25BZGRDbGljayhcInZpc2libGV0cmlnZ2VyXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocHJvcEVkaXRvci5rb0l0ZW1zKCkubGVuZ3RoLCAyLCBcIlRoZXJlIGFyZSB0d28gdHJpZ2dlcnMgbm93XCIpO1xuICAgICAgICBrb1RyaWdnZXIgPSA8U3VydmV5RWRpdG9yLlN1cnZleVByb3BlcnR5VmlzaWJsZVRyaWdnZXI+cHJvcEVkaXRvci5rb1NlbGVjdGVkKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChrb1RyaWdnZXIua29PcGVyYXRvcigpLCBcImVxdWFsXCIsIFwiZGVmYXVsdCBvcGVyYXRvciBpcyBlcXVhbFwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGtvVHJpZ2dlci5rb0lzVmFsaWQoKSwgZmFsc2UsIFwidGhlIHRyaWdnZXIgaXMgbm90IHZhbGlkXCIpO1xuICAgICAgICBrb1RyaWdnZXIua29OYW1lKFwicXVlc3Rpb24yXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoa29UcmlnZ2VyLmtvSXNWYWxpZCgpLCBmYWxzZSwgXCJ0aGUgdHJpZ2dlciBpcyBzdGlsbCBub3QgdmFsaWRcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChrb1RyaWdnZXIua29SZXF1aXJlVmFsdWUoKSwgdHJ1ZSwgXCJ2YWx1ZSBzaG91bGQgYmUgc2V0XCIpO1xuICAgICAgICBrb1RyaWdnZXIua29PcGVyYXRvcihcIm5vdGVtcHR5XCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoa29UcmlnZ2VyLmtvSXNWYWxpZCgpLCB0cnVlLCBcInRoZSB0cmlnZ2VyIGlzIHZhbGlkXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoa29UcmlnZ2VyLmtvUmVxdWlyZVZhbHVlKCksIGZhbHNlLCBcInZhbHVlIHNob3VsZCBub3QgYmUgc2V0XCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoa29UcmlnZ2VyLmtvVGV4dCgpLCBcIlJ1biBpZiAncXVlc3Rpb24yJyBpcyBub3QgZW1wdHlcIiwgXCJ0ZXh0IGZvciB2YWxpZCB0cmlnZ2VyXCIpO1xuXG4gICAgICAgIGtvVHJpZ2dlci5wYWdlcy5rb0Nob29zZW4ucHVzaChcInBhZ2UyXCIpO1xuICAgICAgICBrb1RyaWdnZXIucXVlc3Rpb25zLmtvQ2hvb3Nlbi5wdXNoKFwicXVlc3Rpb24zXCIpO1xuICAgICAgICBrb1RyaWdnZXIua29WYWx1ZSgxKTtcbiAgICAgICAgdHJpZ2dlciA9IDxTdXJ2ZXkuU3VydmV5VHJpZ2dlclZpc2libGU+a29UcmlnZ2VyLmNyZWF0ZVRyaWdnZXIoKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHRyaWdnZXIubmFtZSwgXCJxdWVzdGlvbjJcIiwgXCJjcmVhdGUgdHJpZ2dlciBjb3JyZWN0bHk6IG5hbWVcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbCh0cmlnZ2VyLm9wZXJhdG9yLCBcIm5vdGVtcHR5XCIsIFwiY3JlYXRlIHRyaWdnZXIgY29ycmVjdGx5OiBvcGVyYXRvclwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHRyaWdnZXIudmFsdWUsIDEsIFwiY3JlYXRlIHRyaWdnZXIgY29ycmVjdGx5OiB2YWx1ZVwiKTtcbiAgICAgICAgYXNzZXJ0LmRlZXBFcXVhbCh0cmlnZ2VyLnBhZ2VzLCBbXCJwYWdlMlwiXSwgXCJjcmVhdGUgdHJpZ2dlciBjb3JyZWN0bHk6IHBhZ2VzXCIpO1xuICAgICAgICBhc3NlcnQuZGVlcEVxdWFsKHRyaWdnZXIucXVlc3Rpb25zLCBbXCJxdWVzdGlvbjNcIl0sIFwiY3JlYXRlIHRyaWdnZXIgY29ycmVjdGx5OiBxdWVzdGlvbnNcIik7XG5cbiAgICAgICAgcHJvcEVkaXRvci5vbkFkZENsaWNrKFwidmlzaWJsZXRyaWdnZXJcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChwcm9wRWRpdG9yLmtvSXRlbXMoKS5sZW5ndGgsIDMsIFwiVGhlcmUgYXJlIHRocmVlIHRyaWdnZXJzIG5vd1wiKTtcbiAgICAgICAgcHJvcEVkaXRvci5vbkRlbGV0ZUNsaWNrKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChwcm9wRWRpdG9yLmtvSXRlbXMoKS5sZW5ndGgsIDIsIFwiVGhlcmUgYXJlIGFnYWluIHR3byB0cmlnZ2Vyc1wiKTtcblxuICAgICAgICBwcm9wRWRpdG9yLm9uQXBwbHlDbGljaygpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0Lmxlbmd0aCwgMiwgXCJUd28gdHJpZ2dlcnMgYXJlIHNhdmVkXCIpO1xuXG4gICAgICAgIHByb3BFZGl0b3Iub25BZGRDbGljayhcImNvbXBsZXRldHJpZ2dlclwiKTtcbiAgICAgICAga29UcmlnZ2VyID0gPFN1cnZleUVkaXRvci5TdXJ2ZXlQcm9wZXJ0eVZpc2libGVUcmlnZ2VyPnByb3BFZGl0b3Iua29TZWxlY3RlZCgpO1xuICAgICAgICBrb1RyaWdnZXIua29OYW1lKFwicXVlc3Rpb24yXCIpO1xuICAgICAgICBrb1RyaWdnZXIua29PcGVyYXRvcihcIm5vdGVtcHR5XCIpO1xuICAgICAgICBwcm9wRWRpdG9yLm9uQXBwbHlDbGljaygpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0Lmxlbmd0aCwgMywgXCJUaGVyZSBhcmUgMyB0cmlnZ2Vyc1wiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdFsyXS5nZXRUeXBlKCksIFwiY29tcGxldGV0cmlnZ2VyXCIsIFwiQ29tcGxldGUgdHJpZ2dlciBpcyBjcmVhdGVkXCIpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJWYWxpZGF0b3JzIHByb3BlcnR5IGVkaXRvclwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBzdXJ2ZXkgPSBjcmVhdGVTdXJ2ZXkoKTtcbiAgICAgICAgdmFyIHZhbGlkYXRvciA9IG5ldyBTdXJ2ZXkuTnVtZXJpY1ZhbGlkYXRvcigxMCwgMTAwKTtcbiAgICAgICAgdmFsaWRhdG9yLnRleHQgPSBcInZhbGlkYXRvcnRleHRcIjtcbiAgICAgICAgdmFyIHF1ZXN0aW9uID0gPFN1cnZleS5RdWVzdGlvbj5zdXJ2ZXkuZ2V0UXVlc3Rpb25CeU5hbWUoXCJxdWVzdGlvbjFcIik7XG4gICAgICAgIHF1ZXN0aW9uLnZhbGlkYXRvcnMucHVzaCh2YWxpZGF0b3IpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIHZhciBwcm9wRWRpdG9yID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlQcm9wZXJ0eVZhbGlkYXRvcnNFZGl0b3IoKTtcbiAgICAgICAgcHJvcEVkaXRvci5vbkNoYW5nZWQgPSAobmV3VmFsdWU6IGFueSkgPT4geyByZXN1bHQgPSBuZXdWYWx1ZSB9O1xuICAgICAgICBwcm9wRWRpdG9yLm9iamVjdCA9IHF1ZXN0aW9uO1xuICAgICAgICBwcm9wRWRpdG9yLnZhbHVlID0gcXVlc3Rpb24udmFsaWRhdG9ycztcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHByb3BFZGl0b3Iua29JdGVtcygpLmxlbmd0aCwgMSwgXCJUaGVyZSBhcmUgb25lIHZhbGlkYXRvciBpbml0aWFsbHlcIik7XG4gICAgICAgIHZhciBrb1ZhbGlkYXRvciA9IDxTdXJ2ZXlFZGl0b3IuU3VydmV5UHJvcGVydHlWYWxpZGF0b3JJdGVtPnByb3BFZGl0b3Iua29TZWxlY3RlZCgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoa29WYWxpZGF0b3IudmFsaWRhdG9yLnRleHQsIFwidmFsaWRhdG9ydGV4dFwiLCBcIlZhbGlkYXRvciBUZXh0IGlzIHNldCBjb3JyZWN0bHlcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbCgoPFN1cnZleS5OdW1lcmljVmFsaWRhdG9yPmtvVmFsaWRhdG9yLnZhbGlkYXRvcikubWluVmFsdWUsIDEwLCBcIlZhbGlkYXRvciAnbWluVmFsdWUnIGlzIHNldCBjb3JyZWN0bHlcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbCgoPFN1cnZleS5OdW1lcmljVmFsaWRhdG9yPmtvVmFsaWRhdG9yLnZhbGlkYXRvcikubWF4VmFsdWUsIDEwMCwgXCJWYWxpZGF0b3IgJ21heFZhbHVlJyBpcyBzZXQgY29ycmVjdGx5XCIpO1xuXG4gICAgICAgIHByb3BFZGl0b3Iub25BZGRDbGljayhcInRleHR2YWxpZGF0b3JcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChwcm9wRWRpdG9yLmtvSXRlbXMoKS5sZW5ndGgsIDIsIFwiVGhlcmUgYXJlIHR3byB2YWxpZGF0b3JzIG5vd1wiKTtcbiAgICAgICAgdmFyIGtvVmFsaWRhdG9yID0gPFN1cnZleUVkaXRvci5TdXJ2ZXlQcm9wZXJ0eVZhbGlkYXRvckl0ZW0+cHJvcEVkaXRvci5rb1NlbGVjdGVkKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChrb1ZhbGlkYXRvci50ZXh0LCBcInRleHR2YWxpZGF0b3JcIiwgXCJDcmVhdGVkIHdpdGggY29ycmVjdGVkIHZhbHVlXCIpO1xuICAgICAgICAoPFN1cnZleS5UZXh0VmFsaWRhdG9yPmtvVmFsaWRhdG9yLnZhbGlkYXRvcikubWluTGVuZ3RoID0gMjA7XG4gICAgICAgIGtvVmFsaWRhdG9yLnZhbGlkYXRvci50ZXh0ID0gXCJ0ZXh0IGlzIHNob3J0LlwiO1xuXG4gICAgICAgIHByb3BFZGl0b3Iub25BZGRDbGljayhcInRleHR2YWxpZGF0b3JcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChwcm9wRWRpdG9yLmtvSXRlbXMoKS5sZW5ndGgsIDMsIFwiVGhlcmUgYXJlIHRocmVlIHZhbGlkYXRvcnMgbm93XCIpO1xuICAgICAgICBwcm9wRWRpdG9yLm9uRGVsZXRlQ2xpY2soKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHByb3BFZGl0b3Iua29JdGVtcygpLmxlbmd0aCwgMiwgXCJUaGVyZSBhcmUgdHdvIHZhbGlkYXRvcnMgYWdhaW5cIik7XG5cbiAgICAgICAgcHJvcEVkaXRvci5vbkFwcGx5Q2xpY2soKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHJlc3VsdC5sZW5ndGgsIDIsIFwiVHdvIHZhbGlkYXRvcnMgYXJlIHNhdmVkXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwocmVzdWx0WzFdLm1pbkxlbmd0aCwgMjAsIFwiVGhlIHByb3BlcnRpZXMgYXJlIHNhdmVkIHRvb1wiKTtcbiAgICB9KTtcbiAgICBRVW5pdC50ZXN0KFwiU3VydmV5VmVyYkNoYW5nZVR5cGVJdGVtIHRlc3RcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgc3VydmV5ID0gY3JlYXRlU3VydmV5KCk7XG4gICAgICAgIHZhciB2ZXJiID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlWZXJiQ2hhbmdlVHlwZUl0ZW0oc3VydmV5LCBzdXJ2ZXkucGFnZXNbMF0ucXVlc3Rpb25zWzFdLCBudWxsKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHZlcmIua29TZWxlY3RlZEl0ZW0oKSwgXCJjaGVja2JveFwiLCBcIlRoZSBkZWZhdWx0IHZhbHVlIGlzIGNoZWNrYm94XCIpO1xuICAgICAgICB2ZXJiLmtvU2VsZWN0ZWRJdGVtKFwiZHJvcGRvd25cIik7XG4gICAgICAgIHZhciBuZXdRdWVzdGlvbiA9IHN1cnZleS5wYWdlc1swXS5xdWVzdGlvbnNbMV07XG4gICAgICAgIGFzc2VydC5lcXVhbChuZXdRdWVzdGlvbi5nZXRUeXBlKCksIFwiZHJvcGRvd25cIiwgXCJ0aGUgcXVlc3Rpb24gYmVjb21lcyAnZHJvcGRvd24nXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobmV3UXVlc3Rpb25bXCJjaG9pY2VzXCJdLmxlbmd0aCwgMywgXCJwcm9wZXJ0aWVzIGFyZSBjb3BpZWQuXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoc3VydmV5LnBhZ2VzWzBdLnF1ZXN0aW9ucy5sZW5ndGgsIDIsIFwid2Ugd2lsbCBzdGlsbCBoYXZlIHR3byBxdWVzdGlvbnMuXCIpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJTdXJ2ZXlWZXJiQ2hhbmdlUGFnZUl0ZW0gdGVzdFwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBzdXJ2ZXkgPSBjcmVhdGVTdXJ2ZXkoKTtcbiAgICAgICAgdmFyIHZlcmIgPSBuZXcgU3VydmV5RWRpdG9yLlN1cnZleVZlcmJDaGFuZ2VQYWdlSXRlbShzdXJ2ZXksIHN1cnZleS5wYWdlc1swXS5xdWVzdGlvbnNbMV0sIG51bGwpO1xuICAgICAgICBhc3NlcnQuZXF1YWwodmVyYi5rb1NlbGVjdGVkSXRlbSgpLCBzdXJ2ZXkucGFnZXNbMF0sIFwiVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmlyc3QgcGFnZVwiKTtcbiAgICAgICAgdmVyYi5rb1NlbGVjdGVkSXRlbShzdXJ2ZXkucGFnZXNbMl0pO1xuICAgICAgICBhc3NlcnQuZXF1YWwoc3VydmV5LnBhZ2VzWzBdLnF1ZXN0aW9ucy5sZW5ndGgsIDEsIFwib25lIHF1ZXN0aW9uIGxlZnQgb24gdGhlIGZpcnN0IHBhZ2VcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbChzdXJ2ZXkucGFnZXNbMl0ucXVlc3Rpb25zLmxlbmd0aCwgMywgXCJ0aHJlZSBxdWVzdGlvbiBub3cgb24gdGhlIHRoaXJkIHBhZ2VcIik7XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gY3JlYXRlU3VydmV5KCk6IFN1cnZleS5TdXJ2ZXkge1xuICAgICAgICByZXR1cm4gbmV3IFN1cnZleS5TdXJ2ZXkoe1xuICAgICAgICAgICAgcGFnZXM6IFt7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3BhZ2UxJywgcXVlc3Rpb25zOiBbeyB0eXBlOiAndGV4dCcsIG5hbWU6ICdxdWVzdGlvbjEnIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJxdWVzdGlvbjJcIiwgY2hvaWNlczogW1wib25lXCIsIHsgdmFsdWU6IFwidHdvXCIsIHRleHQ6IFwic2Vjb25kIHZhbHVlXCIgfSwgeyB2YWx1ZTogMywgdGV4dDogXCJ0aGlyZCB2YWx1ZVwiIH1dLCB0eXBlOiBcImNoZWNrYm94XCIgfV1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAncGFnZTInLCBxdWVzdGlvbnM6IFt7IG5hbWU6IFwicXVlc3Rpb24zXCIsIHR5cGU6IFwiY29tbWVudFwiIH1dIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAncGFnZTMnLCBxdWVzdGlvbnM6IFt7IG5hbWU6IFwicXVlc3Rpb240XCIsIGNvbHVtbnM6IFtcIkNvbHVtbiAxXCIsIFwiQ29sdW1uIDJcIiwgXCJDb2x1bW4gM1wiXSwgcm93czogW1wiUm93IDFcIiwgXCJSb3cgMlwiXSwgdHlwZTogXCJtYXRyaXhcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcInF1ZXN0aW9uNVwiLCB0eXBlOiBcInJhdGluZ1wiIH1dXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfSk7XG4gICAgfVxuXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NyYy91bmRvcmVkby50c1wiIC8+XG5tb2R1bGUgU3VydmV5RWRpdG9yVGVzdHMuVGVzdHMge1xuICAgIFFVbml0Lm1vZHVsZShcIlVuZG9SZWRvVGVzdHNcIik7XG4gICAgUVVuaXQudGVzdChcIkVuYWJlbGluZyB1bmRvIHJlZG9cIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgc3VydmV5ID0gbmV3IFN1cnZleS5TdXJ2ZXkoZ2V0U3VydmV5SnNvbigpKTtcbiAgICAgICAgdmFyIHVuZG8gPSBuZXcgU3VydmV5RWRpdG9yLlN1cnZleVVuZG9SZWRvKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbCh1bmRvLmtvQ2FuVW5kbygpLCBmYWxzZSwgXCJDYW5VbmRvIDFcIik7XG4gICAgICAgIGFzc2VydC5lcXVhbCh1bmRvLmtvQ2FuUmVkbygpLCBmYWxzZSwgXCJDYW5SZWRvIDFcIik7XG4gICAgICAgIHVuZG8uc2V0Q3VycmVudChzdXJ2ZXksIG51bGwpO1xuICAgICAgICBhc3NlcnQuZXF1YWwodW5kby5rb0NhblVuZG8oKSwgZmFsc2UsIFwiQ2FuVW5kbyAyXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwodW5kby5rb0NhblJlZG8oKSwgZmFsc2UsIFwiQ2FuUmVkbyAyXCIpO1xuICAgICAgICB1bmRvLnNldEN1cnJlbnQoc3VydmV5LCBudWxsKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHVuZG8ua29DYW5VbmRvKCksIHRydWUsIFwiQ2FuVW5kbyAzXCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwodW5kby5rb0NhblJlZG8oKSwgZmFsc2UsIFwiQ2FuUmVkbyAzXCIpO1xuICAgICAgICB1bmRvLnVuZG8oKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHVuZG8ua29DYW5VbmRvKCksIGZhbHNlLCBcIkNhblVuZG8gNFwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHVuZG8ua29DYW5SZWRvKCksIHRydWUsIFwiQ2FuUmVkbyA0XCIpO1xuICAgICAgICB1bmRvLnJlZG8oKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHVuZG8ua29DYW5VbmRvKCksIHRydWUsIFwiQ2FuVW5kbyA1XCIpO1xuICAgICAgICBhc3NlcnQuZXF1YWwodW5kby5rb0NhblJlZG8oKSwgZmFsc2UsIFwiQ2FuUmVkbyA1XCIpO1xuICAgICAgICB1bmRvLnVuZG8oKTtcbiAgICAgICAgdW5kby5zZXRDdXJyZW50KHN1cnZleSwgbnVsbCk7XG4gICAgICAgIGFzc2VydC5lcXVhbCh1bmRvLmtvQ2FuVW5kbygpLCB0cnVlLCBcIkNhblVuZG8gNlwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHVuZG8ua29DYW5SZWRvKCksIGZhbHNlLCBcIkNhblJlZG8gNlwiKTtcbiAgICAgICAgdW5kby5zZXRDdXJyZW50KHN1cnZleSwgbnVsbCk7XG4gICAgICAgIGFzc2VydC5lcXVhbCh1bmRvLmtvQ2FuVW5kbygpLCB0cnVlLCBcIkNhblVuZG8gN1wiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHVuZG8ua29DYW5SZWRvKCksIGZhbHNlLCBcIkNhblJlZG8gN1wiKTtcbiAgICAgICAgdW5kby51bmRvKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbCh1bmRvLmtvQ2FuVW5kbygpLCB0cnVlLCBcIkNhblVuZG8gOFwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHVuZG8ua29DYW5SZWRvKCksIHRydWUsIFwiQ2FuUmVkbyA4XCIpO1xuICAgICAgICB1bmRvLnVuZG8oKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHVuZG8ua29DYW5VbmRvKCksIGZhbHNlLCBcIkNhblVuZG8gOVwiKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHVuZG8ua29DYW5SZWRvKCksIHRydWUsIFwiQ2FuUmVkbyA5XCIpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJEbyB1bmRvXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcbiAgICAgICAgdmFyIHN1cnZleSA9IG5ldyBTdXJ2ZXkuU3VydmV5KGdldFN1cnZleUpzb24oKSk7XG4gICAgICAgIHZhciB1bmRvID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlVbmRvUmVkbygpO1xuICAgICAgICB1bmRvLnNldEN1cnJlbnQoc3VydmV5LCBudWxsKTtcbiAgICAgICAgc3VydmV5LmFkZE5ld1BhZ2UoXCJOZXcgUGFnZVwiKTtcbiAgICAgICAgdW5kby5zZXRDdXJyZW50KHN1cnZleSwgbnVsbCk7XG4gICAgICAgIGFzc2VydC5lcXVhbCg0LCBzdXJ2ZXkucGFnZXMubGVuZ3RoKTtcbiAgICAgICAgc3VydmV5ID0gbmV3IFN1cnZleS5TdXJ2ZXkodW5kby51bmRvKCkuc3VydmV5SlNPTik7XG4gICAgICAgIGFzc2VydC5lcXVhbCgzLCBzdXJ2ZXkucGFnZXMubGVuZ3RoKTtcbiAgICB9KTtcbiAgICBRVW5pdC50ZXN0KFwiRG8gdW5kby9yZWRvXCIsIGZ1bmN0aW9uIChhc3NlcnQpIHtcbiAgICAgICAgdmFyIHN1cnZleSA9IG5ldyBTdXJ2ZXkuU3VydmV5KGdldFN1cnZleUpzb24oKSk7XG4gICAgICAgIHZhciB1bmRvID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlVbmRvUmVkbygpO1xuICAgICAgICB1bmRvLnNldEN1cnJlbnQoc3VydmV5LCBudWxsKTtcbiAgICAgICAgc3VydmV5LmFkZE5ld1BhZ2UoXCJOZXcgUGFnZVwiKTtcbiAgICAgICAgdW5kby5zZXRDdXJyZW50KHN1cnZleSwgbnVsbCk7XG4gICAgICAgIHN1cnZleSA9IG5ldyBTdXJ2ZXkuU3VydmV5KHVuZG8udW5kbygpLnN1cnZleUpTT04pO1xuICAgICAgICBhc3NlcnQuZXF1YWwoMywgc3VydmV5LnBhZ2VzLmxlbmd0aCwgXCIzIHBhZ2VzIGFmdGVyIHVuZG9cIik7XG4gICAgICAgIHN1cnZleSA9IG5ldyBTdXJ2ZXkuU3VydmV5KHVuZG8ucmVkbygpLnN1cnZleUpTT04pO1xuICAgICAgICBhc3NlcnQuZXF1YWwoNCwgc3VydmV5LnBhZ2VzLmxlbmd0aCwgXCI0IHBhZ2VzIGFmdGVyIHJlZG9cIik7XG4gICAgfSk7XG4gICAgUVVuaXQudGVzdChcIlVuZG8gbWF4aW11bSBjb3VudFwiLCBmdW5jdGlvbiAoYXNzZXJ0KSB7XG4gICAgICAgIHZhciBzdXJ2ZXkgPSBuZXcgU3VydmV5LlN1cnZleShnZXRTdXJ2ZXlKc29uKCkpO1xuICAgICAgICB2YXIgdW5kbyA9IG5ldyBTdXJ2ZXlFZGl0b3IuU3VydmV5VW5kb1JlZG8oKTtcbiAgICAgICAgdW5kby5tYXhpbXVtQ291bnQgPSAyO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICAgIHVuZG8uc2V0Q3VycmVudChzdXJ2ZXksIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydC5lcXVhbCh1bmRvLmtvQ2FuVW5kbygpLCB0cnVlLCBcIkluaXRpYWwgY2FuIHVuZG9cIik7XG4gICAgICAgIHVuZG8udW5kbygpO1xuICAgICAgICB1bmRvLnVuZG8oKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKHVuZG8ua29DYW5VbmRvKCksIGZhbHNlLCBcIlN0b3JlIG9ubHkgZm9yIHR3byB1bmRvXCIpO1xuICAgIH0pO1xuICAgIFFVbml0LnRlc3QoXCJEbyB1bmRvL3JlZG8gd2l0aCBlZGl0b3JcIiwgZnVuY3Rpb24gKGFzc2VydCkge1xuICAgICAgICB2YXIgZWRpdG9yID0gbmV3IFN1cnZleUVkaXRvci5TdXJ2ZXlFZGl0b3IoKTtcbiAgICAgICAgZWRpdG9yLnRleHQgPSBKU09OLnN0cmluZ2lmeShnZXRTdXJ2ZXlKc29uKCkpO1xuICAgICAgICBlZGl0b3IuYWRkUGFnZSgpO1xuICAgICAgICBhc3NlcnQuZXF1YWwoNCwgZWRpdG9yLnN1cnZleS5wYWdlcy5sZW5ndGgpO1xuICAgICAgICBlZGl0b3IuZG9VbmRvQ2xpY2soKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKDMsIGVkaXRvci5zdXJ2ZXkucGFnZXMubGVuZ3RoKTtcbiAgICAgICAgZWRpdG9yLmRvUmVkb0NsaWNrKCk7XG4gICAgICAgIGFzc2VydC5lcXVhbCg0LCBlZGl0b3Iuc3VydmV5LnBhZ2VzLmxlbmd0aCk7XG4gICAgICAgIGFzc2VydC5lcXVhbChlZGl0b3Iua29TZWxlY3RlZE9iamVjdCgpLnZhbHVlLCBlZGl0b3Iuc3VydmV5LnBhZ2VzW2VkaXRvci5zdXJ2ZXkucGFnZXMubGVuZ3RoIC0gMV0sIFwidGhlIGxhc3QgcGFnZSBzaG91bGQgYmUgc2VsZWN0ZWRcIik7XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gZ2V0U3VydmV5SnNvbigpOiBhbnkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGFnZXM6IFt7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3BhZ2UxJywgcXVlc3Rpb25zOiBbeyB0eXBlOiAndGV4dCcsIG5hbWU6ICdxdWVzdGlvbjEnIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJxdWVzdGlvbjJcIiwgY2hvaWNlczogW1wib25lXCIsIHsgdmFsdWU6IFwidHdvXCIsIHRleHQ6IFwic2Vjb25kIHZhbHVlXCIgfSwgeyB2YWx1ZTogMywgdGV4dDogXCJ0aGlyZCB2YWx1ZVwiIH1dLCB0eXBlOiBcImNoZWNrYm94XCIgfV1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAncGFnZTInLCBxdWVzdGlvbnM6IFt7IG5hbWU6IFwicXVlc3Rpb24zXCIsIHR5cGU6IFwiY29tbWVudFwiIH1dIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAncGFnZTMnLCBxdWVzdGlvbnM6IFt7IG5hbWU6IFwicXVlc3Rpb240XCIsIGNvbHVtbnM6IFtcIkNvbHVtbiAxXCIsIFwiQ29sdW1uIDJcIiwgXCJDb2x1bW4gM1wiXSwgcm93czogW1wiUm93IDFcIiwgXCJSb3cgMlwiXSwgdHlwZTogXCJtYXRyaXhcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcInF1ZXN0aW9uNVwiLCB0eXBlOiBcInJhdGluZ1wiIH1dXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgfTtcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiJ0ZXN0cyJ9
